(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(i){if(i.ep)return;i.ep=!0;const u=s(i);fetch(i.href,u)}})();function fe(){}function Ut(t){return t()}function at(){return Object.create(null)}function Re(t){t.forEach(Ut)}function st(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let We;function Ve(t,e){return We||(We=document.createElement("a")),We.href=e,t===We.href}function Jt(t){return Object.keys(t).length===0}function nt(t,...e){if(t==null)return fe;const s=t.subscribe(...e);return s.unsubscribe?()=>s.unsubscribe():s}function qt(t){let e;return nt(t,s=>e=s)(),e}function Te(t,e,s){t.$$.on_destroy.push(nt(e,s))}function l(t,e){t.appendChild(e)}function ie(t,e,s){t.insertBefore(e,s||null)}function se(t){t.parentNode&&t.parentNode.removeChild(t)}function Ge(t,e){for(let s=0;s<t.length;s+=1)t[s]&&t[s].d(e)}function _(t){return document.createElement(t)}function H(t){return document.createTextNode(t)}function G(){return H(" ")}function ge(t,e,s,n){return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)}function d(t,e,s){s==null?t.removeAttribute(e):t.getAttribute(e)!==s&&t.setAttribute(e,s)}function Wt(t){return Array.from(t.childNodes)}function te(t,e){e=""+e,t.data!==e&&(t.data=e)}function ot(t,e,s,n){s==null?t.style.removeProperty(e):t.style.setProperty(e,s,n?"important":"")}function ke(t,e,s){t.classList[s?"add":"remove"](e)}let He;function Ne(t){He=t}function Kt(){if(!He)throw new Error("Function called outside component initialization");return He}function Vt(t){Kt().$$.on_mount.push(t)}const je=[],ut=[];let Me=[];const ct=[],Yt=Promise.resolve();let Ze=!1;function Qt(){Ze||(Ze=!0,Yt.then(Dt))}function xe(t){Me.push(t)}const Qe=new Set;let Ie=0;function Dt(){if(Ie!==0)return;const t=He;do{try{for(;Ie<je.length;){const e=je[Ie];Ie++,Ne(e),Xt(e.$$)}}catch(e){throw je.length=0,Ie=0,e}for(Ne(null),je.length=0,Ie=0;ut.length;)ut.pop()();for(let e=0;e<Me.length;e+=1){const s=Me[e];Qe.has(s)||(Qe.add(s),s())}Me.length=0}while(je.length);for(;ct.length;)ct.pop()();Ze=!1,Qe.clear(),Ne(t)}function Xt(t){if(t.fragment!==null){t.update(),Re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(xe)}}function Zt(t){const e=[],s=[];Me.forEach(n=>t.indexOf(n)===-1?e.push(n):s.push(n)),s.forEach(n=>n()),Me=e}const Ke=new Set;let $e;function xt(){$e={r:0,c:[],p:$e}}function es(){$e.r||Re($e.c),$e=$e.p}function Pe(t,e){t&&t.i&&(Ke.delete(t),t.i(e))}function Fe(t,e,s,n){if(t&&t.o){if(Ke.has(t))return;Ke.add(t),$e.c.push(()=>{Ke.delete(t),n&&(s&&t.d(1),n())}),t.o(e)}else n&&n()}function Ye(t){t&&t.c()}function ze(t,e,s,n){const{fragment:i,after_update:u}=t.$$;i&&i.m(e,s),n||xe(()=>{const o=t.$$.on_mount.map(Ut).filter(st);t.$$.on_destroy?t.$$.on_destroy.push(...o):Re(o),t.$$.on_mount=[]}),u.forEach(xe)}function Be(t,e){const s=t.$$;s.fragment!==null&&(Zt(s.after_update),Re(s.on_destroy),s.fragment&&s.fragment.d(e),s.on_destroy=s.fragment=null,s.ctx=[])}function ts(t,e){t.$$.dirty[0]===-1&&(je.push(t),Qt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Je(t,e,s,n,i,u,o,p=[-1]){const E=He;Ne(t);const f=t.$$={fragment:null,ctx:[],props:u,update:fe,not_equal:i,bound:at(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(E?E.$$.context:[])),callbacks:at(),dirty:p,skip_bound:!1,root:e.target||E.$$.root};o&&o(f.root);let k=!1;if(f.ctx=s?s(t,e.props||{},(C,N,...z)=>{const w=z.length?z[0]:N;return f.ctx&&i(f.ctx[C],f.ctx[C]=w)&&(!f.skip_bound&&f.bound[C]&&f.bound[C](w),k&&ts(t,C)),N}):[],f.update(),k=!0,Re(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const C=Wt(e.target);f.fragment&&f.fragment.l(C),C.forEach(se)}else f.fragment&&f.fragment.c();e.intro&&Pe(t.$$.fragment),ze(t,e.target,e.anchor,e.customElement),Dt()}Ne(E)}class qe{$destroy(){Be(this,1),this.$destroy=fe}$on(e,s){if(!st(s))return fe;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(s),()=>{const i=n.indexOf(s);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Jt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gt={exports:{}};(function(t){(function(e,s){t.exports?t.exports=s():e.log=s()})(Tt,function(){var e=function(){},s="undefined",n=typeof window!==s&&typeof window.navigator!==s&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],u={},o=null;function p(v,j){var y=v[j];if(typeof y.bind=="function")return y.bind(v);try{return Function.prototype.bind.call(y,v)}catch{return function(){return Function.prototype.apply.apply(y,[v,arguments])}}}function E(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function f(v){return v==="debug"&&(v="log"),typeof console===s?!1:v==="trace"&&n?E:console[v]!==void 0?p(console,v):console.log!==void 0?p(console,"log"):e}function k(){for(var v=this.getLevel(),j=0;j<i.length;j++){var y=i[j];this[y]=j<v?e:this.methodFactory(y,v,this.name)}if(this.log=this.debug,typeof console===s&&v<this.levels.SILENT)return"No console available for logging"}function C(v){return function(){typeof console!==s&&(k.call(this),this[v].apply(this,arguments))}}function N(v,j,y){return f(v)||C.apply(this,arguments)}function z(v,j){var y=this,M,T,B,A="loglevel";typeof v=="string"?A+=":"+v:typeof v=="symbol"&&(A=void 0);function U(h){var m=(i[h]||"silent").toUpperCase();if(!(typeof window===s||!A)){try{window.localStorage[A]=m;return}catch{}try{window.document.cookie=encodeURIComponent(A)+"="+m+";"}catch{}}}function R(){var h;if(!(typeof window===s||!A)){try{h=window.localStorage[A]}catch{}if(typeof h===s)try{var m=window.document.cookie,I=encodeURIComponent(A),S=m.indexOf(I+"=");S!==-1&&(h=/^([^;]+)/.exec(m.slice(S+I.length+1))[1])}catch{}return y.levels[h]===void 0&&(h=void 0),h}}function r(){if(!(typeof window===s||!A)){try{window.localStorage.removeItem(A)}catch{}try{window.document.cookie=encodeURIComponent(A)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function a(h){var m=h;if(typeof m=="string"&&y.levels[m.toUpperCase()]!==void 0&&(m=y.levels[m.toUpperCase()]),typeof m=="number"&&m>=0&&m<=y.levels.SILENT)return m;throw new TypeError("log.setLevel() called with invalid level: "+h)}y.name=v,y.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},y.methodFactory=j||N,y.getLevel=function(){return B??T??M},y.setLevel=function(h,m){return B=a(h),m!==!1&&U(B),k.call(y)},y.setDefaultLevel=function(h){T=a(h),R()||y.setLevel(h,!1)},y.resetLevel=function(){B=null,r(),k.call(y)},y.enableAll=function(h){y.setLevel(y.levels.TRACE,h)},y.disableAll=function(h){y.setLevel(y.levels.SILENT,h)},y.rebuild=function(){if(o!==y&&(M=a(o.getLevel())),k.call(y),o===y)for(var h in u)u[h].rebuild()},M=a(o?o.getLevel():"WARN");var c=R();c!=null&&(B=a(c)),k.call(y)}o=new z,o.getLogger=function(j){if(typeof j!="symbol"&&typeof j!="string"||j==="")throw new TypeError("You must supply a name when creating a logger.");var y=u[j];return y||(y=u[j]=new z(j,o.methodFactory)),y};var w=typeof window!==s?window.log:void 0;return o.noConflict=function(){return typeof window!==s&&window.log===o&&(window.log=w),o},o.getLoggers=function(){return u},o.default=o,o})})(Gt);var ss=Gt.exports;const X=Nt(ss);var Ht={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((s,n)=>{t.exports=n()})(Tt,function s(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},i,u=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,p={},E=0,f={};function k(r){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(a){var c=A(a);c.chunkSize=parseInt(c.chunkSize),a.step||a.chunk||(c.chunkSize=null),this._handle=new v(c),(this._handle.streamer=this)._config=c}).call(this,r),this.parseChunk=function(a,c){var h=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<h){let I=this._config.newline;I||(m=this._config.quoteChar||'"',I=this._handle.guessLineEndings(a,m)),a=[...a.split(I).slice(h)].join(I)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(m=this._config.beforeFirstChunk(a))!==void 0&&(a=m),this.isFirstChunk=!1,this._halted=!1;var h=this._partialLine+a,m=(this._partialLine="",this._handle.parse(h,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(a=m.meta.cursor,h=(this._finished||(this._partialLine=h.substring(a-this._baseIndex),this._baseIndex=a),m&&m.data&&(this._rowCount+=m.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:m,workerId:f.WORKER_ID,finished:h});else if(R(this._config.chunk)&&!c){if(this._config.chunk(m,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=m=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(m.data),this._completeResults.errors=this._completeResults.errors.concat(m.errors),this._completeResults.meta=m.meta),this._completed||!h||!R(this._config.complete)||m&&m.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),h||m&&m.meta.paused||this._nextChunk(),m}this._halted=!0},this._sendError=function(a){R(this._config.error)?this._config.error(a):o&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:a,finished:!1})}}function C(r){var a;(r=r||{}).chunkSize||(r.chunkSize=f.RemoteChunkSize),k.call(this,r),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(c){this._input=c,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(a=new XMLHttpRequest,this._config.withCredentials&&(a.withCredentials=this._config.withCredentials),u||(a.onload=U(this._chunkLoaded,this),a.onerror=U(this._chunkError,this)),a.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var c,h=this._config.downloadRequestHeaders;for(c in h)a.setRequestHeader(c,h[c])}var m;this._config.chunkSize&&(m=this._start+this._config.chunkSize-1,a.setRequestHeader("Range","bytes="+this._start+"-"+m));try{a.send(this._config.downloadRequestBody)}catch(I){this._chunkError(I.message)}u&&a.status===0&&this._chunkError()}},this._chunkLoaded=function(){a.readyState===4&&(a.status<200||400<=a.status?this._chunkError():(this._start+=this._config.chunkSize||a.responseText.length,this._finished=!this._config.chunkSize||this._start>=(c=>(c=c.getResponseHeader("Content-Range"))!==null?parseInt(c.substring(c.lastIndexOf("/")+1)):-1)(a),this.parseChunk(a.responseText)))},this._chunkError=function(c){c=a.statusText||c,this._sendError(new Error(c))}}function N(r){(r=r||{}).chunkSize||(r.chunkSize=f.LocalChunkSize),k.call(this,r);var a,c,h=typeof FileReader<"u";this.stream=function(m){this._input=m,c=m.slice||m.webkitSlice||m.mozSlice,h?((a=new FileReader).onload=U(this._chunkLoaded,this),a.onerror=U(this._chunkError,this)):a=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var m=this._input,I=(this._config.chunkSize&&(I=Math.min(this._start+this._config.chunkSize,this._input.size),m=c.call(m,this._start,I)),a.readAsText(m,this._config.encoding));h||this._chunkLoaded({target:{result:I}})},this._chunkLoaded=function(m){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(m.target.result)},this._chunkError=function(){this._sendError(a.error)}}function z(r){var a;k.call(this,r=r||{}),this.stream=function(c){return a=c,this._nextChunk()},this._nextChunk=function(){var c,h;if(!this._finished)return c=this._config.chunkSize,a=c?(h=a.substring(0,c),a.substring(c)):(h=a,""),this._finished=!a,this.parseChunk(h)}}function w(r){k.call(this,r=r||{});var a=[],c=!0,h=!1;this.pause=function(){k.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){k.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(m){this._input=m,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){h&&a.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),a.length?this.parseChunk(a.shift()):c=!0},this._streamData=U(function(m){try{a.push(typeof m=="string"?m:m.toString(this._config.encoding)),c&&(c=!1,this._checkIsFinished(),this.parseChunk(a.shift()))}catch(I){this._streamError(I)}},this),this._streamError=U(function(m){this._streamCleanUp(),this._sendError(m)},this),this._streamEnd=U(function(){this._streamCleanUp(),h=!0,this._streamData("")},this),this._streamCleanUp=U(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(r){var a,c,h,m,I=Math.pow(2,53),S=-I,D=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,b=this,$=0,L=0,W=!1,P=!1,O=[],g={data:[],errors:[],meta:{}};function J(F){return r.skipEmptyLines==="greedy"?F.join("").trim()==="":F.length===1&&F[0].length===0}function x(){if(g&&h&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),h=!1),r.skipEmptyLines&&(g.data=g.data.filter(function(oe){return!J(oe)})),re()){let oe=function(de,ce){R(r.transformHeader)&&(de=r.transformHeader(de,ce)),O.push(de)};var Y=oe;if(g)if(Array.isArray(g.data[0])){for(var F=0;re()&&F<g.data.length;F++)g.data[F].forEach(oe);g.data.splice(0,1)}else g.data.forEach(oe)}function V(oe,de){for(var ce=r.header?{}:[],le=0;le<oe.length;le++){var ee=le,ue=oe[le],ue=((Z,ne)=>(pe=>(r.dynamicTypingFunction&&r.dynamicTyping[pe]===void 0&&(r.dynamicTyping[pe]=r.dynamicTypingFunction(pe)),(r.dynamicTyping[pe]||r.dynamicTyping)===!0))(Z)?ne==="true"||ne==="TRUE"||ne!=="false"&&ne!=="FALSE"&&((pe=>{if(D.test(pe)&&(pe=parseFloat(pe),S<pe&&pe<I))return 1})(ne)?parseFloat(ne):K.test(ne)?new Date(ne):ne===""?null:ne):ne)(ee=r.header?le>=O.length?"__parsed_extra":O[le]:ee,ue=r.transform?r.transform(ue,ee):ue);ee==="__parsed_extra"?(ce[ee]=ce[ee]||[],ce[ee].push(ue)):ce[ee]=ue}return r.header&&(le>O.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+O.length+" fields but parsed "+le,L+de):le<O.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+O.length+" fields but parsed "+le,L+de)),ce}var q;g&&(r.header||r.dynamicTyping||r.transform)&&(q=1,!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(V),q=g.data.length):g.data=V(g.data,0),r.header&&g.meta&&(g.meta.fields=O),L+=q)}function re(){return r.header&&O.length===0}function ae(F,V,q,Y){F={type:F,code:V,message:q},Y!==void 0&&(F.row=Y),g.errors.push(F)}R(r.step)&&(m=r.step,r.step=function(F){g=F,re()?x():(x(),g.data.length!==0&&($+=F.data.length,r.preview&&$>r.preview?c.abort():(g.data=g.data[0],m(g,b))))}),this.parse=function(F,V,q){var Y=r.quoteChar||'"',Y=(r.newline||(r.newline=this.guessLineEndings(F,Y)),h=!1,r.delimiter?R(r.delimiter)&&(r.delimiter=r.delimiter(F),g.meta.delimiter=r.delimiter):((Y=((oe,de,ce,le,ee)=>{var ue,Z,ne,pe;ee=ee||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var Le=0;Le<ee.length;Le++){for(var he,Oe=ee[Le],_e=0,ve=0,be=0,me=(ne=void 0,new y({comments:le,delimiter:Oe,newline:de,preview:10}).parse(oe)),Se=0;Se<me.data.length;Se++)ce&&J(me.data[Se])?be++:(he=me.data[Se].length,ve+=he,ne===void 0?ne=he:0<he&&(_e+=Math.abs(he-ne),ne=he));0<me.data.length&&(ve/=me.data.length-be),(Z===void 0||_e<=Z)&&(pe===void 0||pe<ve)&&1.99<ve&&(Z=_e,ue=Oe,pe=ve)}return{successful:!!(r.delimiter=ue),bestDelimiter:ue}})(F,r.newline,r.skipEmptyLines,r.comments,r.delimitersToGuess)).successful?r.delimiter=Y.bestDelimiter:(h=!0,r.delimiter=f.DefaultDelimiter),g.meta.delimiter=r.delimiter),A(r));return r.preview&&r.header&&Y.preview++,a=F,c=new y(Y),g=c.parse(a,V,q),x(),W?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return W},this.pause=function(){W=!0,c.abort(),a=R(r.chunk)?"":a.substring(c.getCharIndex())},this.resume=function(){b.streamer._halted?(W=!1,b.streamer.parseChunk(a,!0)):setTimeout(b.resume,3)},this.aborted=function(){return P},this.abort=function(){P=!0,c.abort(),g.meta.aborted=!0,R(r.complete)&&r.complete(g),a=""},this.guessLineEndings=function(oe,Y){oe=oe.substring(0,1048576);var Y=new RegExp(j(Y)+"([^]*?)"+j(Y),"gm"),q=(oe=oe.replace(Y,"")).split("\r"),Y=oe.split(`
`),oe=1<Y.length&&Y[0].length<q[0].length;if(q.length===1||oe)return`
`;for(var de=0,ce=0;ce<q.length;ce++)q[ce][0]===`
`&&de++;return de>=q.length/2?`\r
`:"\r"}}function j(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(r){var a=(r=r||{}).delimiter,c=r.newline,h=r.comments,m=r.step,I=r.preview,S=r.fastMode,D=null,K=!1,b=r.quoteChar==null?'"':r.quoteChar,$=b;if(r.escapeChar!==void 0&&($=r.escapeChar),(typeof a!="string"||-1<f.BAD_DELIMITERS.indexOf(a))&&(a=","),h===a)throw new Error("Comment character same as delimiter");h===!0?h="#":(typeof h!="string"||-1<f.BAD_DELIMITERS.indexOf(h))&&(h=!1),c!==`
`&&c!=="\r"&&c!==`\r
`&&(c=`
`);var L=0,W=!1;this.parse=function(P,O,g){if(typeof P!="string")throw new Error("Input must be a string");var J=P.length,x=a.length,re=c.length,ae=h.length,F=R(m),V=[],q=[],Y=[],oe=L=0;if(!P)return _e();if(S||S!==!1&&P.indexOf(b)===-1){for(var de=P.split(c),ce=0;ce<de.length;ce++){if(Y=de[ce],L+=Y.length,ce!==de.length-1)L+=c.length;else if(g)return _e();if(!h||Y.substring(0,ae)!==h){if(F){if(V=[],pe(Y.split(a)),ve(),W)return _e()}else pe(Y.split(a));if(I&&I<=ce)return V=V.slice(0,I),_e(!0)}}return _e()}for(var le=P.indexOf(a,L),ee=P.indexOf(c,L),ue=new RegExp(j($)+j(b),"g"),Z=P.indexOf(b,L);;)if(P[L]===b)for(Z=L,L++;;){if((Z=P.indexOf(b,Z+1))===-1)return g||q.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:V.length,index:L}),he();if(Z===J-1)return he(P.substring(L,Z).replace(ue,b));if(b===$&&P[Z+1]===$)Z++;else if(b===$||Z===0||P[Z-1]!==$){le!==-1&&le<Z+1&&(le=P.indexOf(a,Z+1));var ne=Le((ee=ee!==-1&&ee<Z+1?P.indexOf(c,Z+1):ee)===-1?le:Math.min(le,ee));if(P.substr(Z+1+ne,x)===a){Y.push(P.substring(L,Z).replace(ue,b)),P[L=Z+1+ne+x]!==b&&(Z=P.indexOf(b,L)),le=P.indexOf(a,L),ee=P.indexOf(c,L);break}if(ne=Le(ee),P.substring(Z+1+ne,Z+1+ne+re)===c){if(Y.push(P.substring(L,Z).replace(ue,b)),Oe(Z+1+ne+re),le=P.indexOf(a,L),Z=P.indexOf(b,L),F&&(ve(),W))return _e();if(I&&V.length>=I)return _e(!0);break}q.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:V.length,index:L}),Z++}}else if(h&&Y.length===0&&P.substring(L,L+ae)===h){if(ee===-1)return _e();L=ee+re,ee=P.indexOf(c,L),le=P.indexOf(a,L)}else if(le!==-1&&(le<ee||ee===-1))Y.push(P.substring(L,le)),L=le+x,le=P.indexOf(a,L);else{if(ee===-1)break;if(Y.push(P.substring(L,ee)),Oe(ee+re),F&&(ve(),W))return _e();if(I&&V.length>=I)return _e(!0)}return he();function pe(be){V.push(be),oe=L}function Le(be){var me=0;return me=be!==-1&&(be=P.substring(Z+1,be))&&be.trim()===""?be.length:me}function he(be){return g||(be===void 0&&(be=P.substring(L)),Y.push(be),L=J,pe(Y),F&&ve()),_e()}function Oe(be){L=be,pe(Y),Y=[],ee=P.indexOf(c,L)}function _e(be){if(r.header&&!O&&V.length&&!K){var me=V[0],Se={},Q=new Set(me);let ye=!1;for(let Ce=0;Ce<me.length;Ce++){let Ee=me[Ce];if(Se[Ee=R(r.transformHeader)?r.transformHeader(Ee,Ce):Ee]){let De,rt=Se[Ee];for(;De=Ee+"_"+rt,rt++,Q.has(De););Q.add(De),me[Ce]=De,Se[Ee]++,ye=!0,(D=D===null?{}:D)[De]=Ee}else Se[Ee]=1,me[Ce]=Ee;Q.add(Ee)}ye&&console.warn("Duplicate headers found and renamed."),K=!0}return{data:V,errors:q,meta:{delimiter:a,linebreak:c,aborted:W,truncated:!!be,cursor:oe+(O||0),renamedHeaders:D}}}function ve(){m(_e()),V=[],q=[]}},this.abort=function(){W=!0},this.getCharIndex=function(){return L}}function M(r){var a=r.data,c=p[a.workerId],h=!1;if(a.error)c.userError(a.error,a.file);else if(a.results&&a.results.data){var m={abort:function(){h=!0,T(a.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:B,resume:B};if(R(c.userStep)){for(var I=0;I<a.results.data.length&&(c.userStep({data:a.results.data[I],errors:a.results.errors,meta:a.results.meta},m),!h);I++);delete a.results}else R(c.userChunk)&&(c.userChunk(a.results,m,a.file),delete a.results)}a.finished&&!h&&T(a.workerId,a.results)}function T(r,a){var c=p[r];R(c.userComplete)&&c.userComplete(a),c.terminate(),delete p[r]}function B(){throw new Error("Not implemented.")}function A(r){if(typeof r!="object"||r===null)return r;var a,c=Array.isArray(r)?[]:{};for(a in r)c[a]=A(r[a]);return c}function U(r,a){return function(){r.apply(a,arguments)}}function R(r){return typeof r=="function"}return f.parse=function(r,a){var c=(a=a||{}).dynamicTyping||!1;if(R(c)&&(a.dynamicTypingFunction=c,c={}),a.dynamicTyping=c,a.transform=!!R(a.transform)&&a.transform,!a.worker||!f.WORKERS_SUPPORTED)return c=null,f.NODE_STREAM_INPUT,typeof r=="string"?(r=(h=>h.charCodeAt(0)!==65279?h:h.slice(1))(r),c=new(a.download?C:z)(a)):r.readable===!0&&R(r.read)&&R(r.on)?c=new w(a):(n.File&&r instanceof File||r instanceof Object)&&(c=new N(a)),c.stream(r);(c=(()=>{var h;return!!f.WORKERS_SUPPORTED&&(h=(()=>{var m=n.URL||n.webkitURL||null,I=s.toString();return f.BLOB_URL||(f.BLOB_URL=m.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",I,")();"],{type:"text/javascript"})))})(),(h=new n.Worker(h)).onmessage=M,h.id=E++,p[h.id]=h)})()).userStep=a.step,c.userChunk=a.chunk,c.userComplete=a.complete,c.userError=a.error,a.step=R(a.step),a.chunk=R(a.chunk),a.complete=R(a.complete),a.error=R(a.error),delete a.worker,c.postMessage({input:r,config:a,workerId:c.id})},f.unparse=function(r,a){var c=!1,h=!0,m=",",I=`\r
`,S='"',D=S+S,K=!1,b=null,$=!1,L=((()=>{if(typeof a=="object"){if(typeof a.delimiter!="string"||f.BAD_DELIMITERS.filter(function(O){return a.delimiter.indexOf(O)!==-1}).length||(m=a.delimiter),typeof a.quotes!="boolean"&&typeof a.quotes!="function"&&!Array.isArray(a.quotes)||(c=a.quotes),typeof a.skipEmptyLines!="boolean"&&typeof a.skipEmptyLines!="string"||(K=a.skipEmptyLines),typeof a.newline=="string"&&(I=a.newline),typeof a.quoteChar=="string"&&(S=a.quoteChar),typeof a.header=="boolean"&&(h=a.header),Array.isArray(a.columns)){if(a.columns.length===0)throw new Error("Option columns is empty");b=a.columns}a.escapeChar!==void 0&&(D=a.escapeChar+S),a.escapeFormulae instanceof RegExp?$=a.escapeFormulae:typeof a.escapeFormulae=="boolean"&&a.escapeFormulae&&($=/^[=+\-@\t\r].*$/)}})(),new RegExp(j(S),"g"));if(typeof r=="string"&&(r=JSON.parse(r)),Array.isArray(r)){if(!r.length||Array.isArray(r[0]))return W(null,r,K);if(typeof r[0]=="object")return W(b||Object.keys(r[0]),r,K)}else if(typeof r=="object")return typeof r.data=="string"&&(r.data=JSON.parse(r.data)),Array.isArray(r.data)&&(r.fields||(r.fields=r.meta&&r.meta.fields||b),r.fields||(r.fields=Array.isArray(r.data[0])?r.fields:typeof r.data[0]=="object"?Object.keys(r.data[0]):[]),Array.isArray(r.data[0])||typeof r.data[0]=="object"||(r.data=[r.data])),W(r.fields||[],r.data||[],K);throw new Error("Unable to serialize unrecognized input");function W(O,g,J){var x="",re=(typeof O=="string"&&(O=JSON.parse(O)),typeof g=="string"&&(g=JSON.parse(g)),Array.isArray(O)&&0<O.length),ae=!Array.isArray(g[0]);if(re&&h){for(var F=0;F<O.length;F++)0<F&&(x+=m),x+=P(O[F],F);0<g.length&&(x+=I)}for(var V=0;V<g.length;V++){var q=(re?O:g[V]).length,Y=!1,oe=re?Object.keys(g[V]).length===0:g[V].length===0;if(J&&!re&&(Y=J==="greedy"?g[V].join("").trim()==="":g[V].length===1&&g[V][0].length===0),J==="greedy"&&re){for(var de=[],ce=0;ce<q;ce++){var le=ae?O[ce]:ce;de.push(g[V][le])}Y=de.join("").trim()===""}if(!Y){for(var ee=0;ee<q;ee++){0<ee&&!oe&&(x+=m);var ue=re&&ae?O[ee]:ee;x+=P(g[V][ue],ee)}V<g.length-1&&(!J||0<q&&!oe)&&(x+=I)}}return x}function P(O,g){var J,x;return O==null?"":O.constructor===Date?JSON.stringify(O).slice(1,25):(x=!1,$&&typeof O=="string"&&$.test(O)&&(O="'"+O,x=!0),J=O.toString().replace(L,D),(x=x||c===!0||typeof c=="function"&&c(O,g)||Array.isArray(c)&&c[g]||((re,ae)=>{for(var F=0;F<ae.length;F++)if(-1<re.indexOf(ae[F]))return!0;return!1})(J,f.BAD_DELIMITERS)||-1<J.indexOf(m)||J.charAt(0)===" "||J.charAt(J.length-1)===" ")?S+J+S:J)}},f.RECORD_SEP=String.fromCharCode(30),f.UNIT_SEP=String.fromCharCode(31),f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!u&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=y,f.ParserHandle=v,f.NetworkStreamer=C,f.FileStreamer=N,f.StringStreamer=z,f.ReadableStreamStreamer=w,n.jQuery&&((i=n.jQuery).fn.parse=function(r){var a=r.config||{},c=[];return this.each(function(I){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var S=0;S<this.files.length;S++)c.push({file:this.files[S],inputElem:this,instanceConfig:i.extend({},a)})}),h(),this;function h(){if(c.length===0)R(r.complete)&&r.complete();else{var I,S,D,K,b=c[0];if(R(r.before)){var $=r.before(b.file,b.inputElem);if(typeof $=="object"){if($.action==="abort")return I="AbortError",S=b.file,D=b.inputElem,K=$.reason,void(R(r.error)&&r.error({name:I},S,D,K));if($.action==="skip")return void m();typeof $.config=="object"&&(b.instanceConfig=i.extend(b.instanceConfig,$.config))}else if($==="skip")return void m()}var L=b.instanceConfig.complete;b.instanceConfig.complete=function(W){R(L)&&L(W,b.file,b.inputElem),m()},f.parse(b.file,b.instanceConfig)}}function m(){c.splice(0,1),h()}}),o&&(n.onmessage=function(r){r=r.data,f.WORKER_ID===void 0&&r&&(f.WORKER_ID=r.workerId),typeof r.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(r.input,r.config),finished:!0}):(n.File&&r.input instanceof File||r.input instanceof Object)&&(r=f.parse(r.input,r.config))&&n.postMessage({workerId:f.WORKER_ID,results:r,finished:!0})}),(C.prototype=Object.create(k.prototype)).constructor=C,(N.prototype=Object.create(k.prototype)).constructor=N,(z.prototype=Object.create(z.prototype)).constructor=z,(w.prototype=Object.create(k.prototype)).constructor=w,f})})(Ht);var ns=Ht.exports;const ft=Nt(ns),Ae=[];function is(t,e){return{subscribe:it(t,e).subscribe}}function it(t,e=fe){let s;const n=new Set;function i(p){if(Ue(t,p)&&(t=p,s)){const E=!Ae.length;for(const f of n)f[1](),Ae.push(f,t);if(E){for(let f=0;f<Ae.length;f+=2)Ae[f][0](Ae[f+1]);Ae.length=0}}}function u(p){i(p(t))}function o(p,E=fe){const f=[p,E];return n.add(f),n.size===1&&(s=e(i)||fe),p(t),()=>{n.delete(f),n.size===0&&s&&(s(),s=null)}}return{set:i,update:u,subscribe:o}}function dt(t,e,s){const n=!Array.isArray(t),i=n?[t]:t,u=e.length<2;return is(s,o=>{let p=!1;const E=[];let f=0,k=fe;const C=()=>{if(f)return;k();const z=e(n?E[0]:E,o);u?o(z):k=st(z)?z:fe},N=i.map((z,w)=>nt(z,v=>{E[w]=v,f&=~(1<<w),p&&C()},()=>{f|=1<<w}));return p=!0,C(),function(){Re(N),k(),p=!1}})}function lt(t){return new Promise((e,s)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>s(t.error)})}function ls(t,e){const s=indexedDB.open(t);s.onupgradeneeded=()=>s.result.createObjectStore(e);const n=lt(s);return(i,u)=>n.then(o=>u(o.transaction(e,i).objectStore(e)))}let Xe;function zt(){return Xe||(Xe=ls("keyval-store","keyval")),Xe}function rs(t,e=zt()){return e("readonly",s=>lt(s.get(t)))}function as(t,e,s=zt()){return s("readwrite",n=>(n.put(e,t),lt(n.transaction)))}const we=it([]),et=it({search:"",hasGitHub:"all",hasSlack:"all",major:"all",classification:"all"}),Bt="student-dashboard-roster";async function os(){const t=await rs(Bt);t&&we.set(t)}function us(t){return as(Bt,t)}we.subscribe(t=>{t&&t.length>0&&us(t)});function ht(t){let e,s;return{c(){e=_("div"),s=H(t[0]),d(e,"class","status loading svelte-xy9839")},m(n,i){ie(n,e,i),l(e,s)},p(n,i){i&1&&te(s,n[0])},d(n){n&&se(e)}}}function gt(t){let e,s;return{c(){e=_("div"),s=H(t[1]),d(e,"class","status confirmation svelte-xy9839")},m(n,i){ie(n,e,i),l(e,s)},p(n,i){i&2&&te(s,n[1])},d(n){n&&se(e)}}}function cs(t){let e,s,n,i,u,o,p,E,f,k,C,N,z,w,v,j,y,M,T,B,A,U,R,r,a,c,h,m,I,S=t[0]&&ht(t),D=t[1]&&gt(t);return{c(){e=_("div"),s=_("h3"),s.textContent="Upload Data",n=G(),i=_("div"),u=_("label"),u.textContent="Classlist JSON:",o=G(),p=_("input"),E=G(),f=_("div"),k=_("label"),k.textContent="GitHub CSV:",C=G(),N=_("input"),z=G(),w=_("div"),v=_("label"),v.textContent="Slack CSV:",j=G(),y=_("input"),M=G(),T=_("div"),B=_("div"),A=_("label"),A.textContent="Message JSON:",U=G(),R=_("input"),r=G(),a=_("button"),a.textContent="Clear Messages",c=G(),S&&S.c(),h=G(),D&&D.c(),d(u,"for","classlist"),d(u,"class","svelte-xy9839"),d(p,"id","classlist"),d(p,"type","file"),d(p,"accept",".json"),d(p,"class","svelte-xy9839"),d(i,"class","svelte-xy9839"),d(k,"for","github"),d(k,"class","svelte-xy9839"),d(N,"id","github"),d(N,"type","file"),d(N,"accept",".csv"),d(N,"class","svelte-xy9839"),d(f,"class","svelte-xy9839"),d(v,"for","slack"),d(v,"class","svelte-xy9839"),d(y,"id","slack"),d(y,"type","file"),d(y,"accept",".csv"),d(y,"class","svelte-xy9839"),d(w,"class","svelte-xy9839"),d(A,"for","messages"),d(A,"class","svelte-xy9839"),d(R,"id","messages"),d(R,"type","file"),d(R,"accept",".json"),d(R,"class","svelte-xy9839"),d(B,"class","svelte-xy9839"),d(a,"class","clear-button svelte-xy9839"),d(T,"class","input-with-action svelte-xy9839"),d(e,"class","upload-section svelte-xy9839")},m(K,b){ie(K,e,b),l(e,s),l(e,n),l(e,i),l(i,u),l(i,o),l(i,p),l(e,E),l(e,f),l(f,k),l(f,C),l(f,N),l(e,z),l(e,w),l(w,v),l(w,j),l(w,y),l(e,M),l(e,T),l(T,B),l(B,A),l(B,U),l(B,R),l(T,r),l(T,a),l(e,c),S&&S.m(e,null),l(e,h),D&&D.m(e,null),m||(I=[ge(p,"change",t[2]),ge(N,"change",t[3]),ge(y,"change",t[4]),ge(R,"change",t[5]),ge(a,"click",t[6])],m=!0)},p(K,[b]){K[0]?S?S.p(K,b):(S=ht(K),S.c(),S.m(e,h)):S&&(S.d(1),S=null),K[1]?D?D.p(K,b):(D=gt(K),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i:fe,o:fe,d(K){K&&se(e),S&&S.d(),D&&D.d(),m=!1,Re(I)}}}function fs(t,e,s){X.setLevel("debug");let n="",i="";async function u(w){if(s(0,n="Loading classlist JSON..."),X.debug("Processing JSON file:",w),!!w)try{const v=await w.text(),j=JSON.parse(v);X.debug("Parsed JSON data:",j),X.debug("Found",j.length,"students in JSON."),we.set(j),s(1,i=`Loaded ${j.length} students from JSON.`)}catch(v){X.error("Error parsing JSON:",v),s(1,i=`Error loading JSON: ${v.message}`)}finally{s(0,n="")}}async function o(w){if(s(0,n="Loading GitHub CSV..."),X.debug("Processing GitHub CSV file:",w),!w)return;const v=await w.text(),j=ft.parse(v,{header:!0});X.debug("Parsed GitHub CSV:",j);const y=j.data,M={};let T=0;for(const B of y){const A=B["Your PennID:"]?B["Your PennID:"].trim():null;if(!A)continue;const U=B.Timestamp?B.Timestamp.trim():"",R=new Date(U).valueOf()||0,r=B["Your GitHub username:"]?B["Your GitHub username:"].trim():null;(!M[A]||R>M[A].dateVal)&&(M[A]={dateVal:R,githubUsername:r})}X.debug("Built GitHub map:",M),we.update(B=>B.map(A=>{const U=M[A.studentId];return U&&U.githubUsername&&A.githubUsername!==U.githubUsername?(T++,{...A,githubUsername:U.githubUsername}):A})),s(1,i=T>0?`GitHub CSV processed: updated ${T} record${T===1?"":"s"}.`:"GitHub CSV processed: no changes made."),s(0,n="")}async function p(w){if(s(0,n="Loading Slack CSV..."),X.debug("Processing Slack CSV file:",w),!w)return;const v=await w.text(),j=ft.parse(v,{header:!0});X.debug("Parsed Slack CSV:",j);const y=j.data,M={};let T=0,B=0;for(const U of y){if(!U.email){B++;continue}T++;const R=U.email.trim().toLowerCase(),r=U.username?U.username.trim():null,a=U.userid?U.userid.trim():null,c=U.fullname?U.fullname.trim():null,h=U.displayname?U.displayname.trim():null,m=U.status?U.status.trim():null;M[R]={username:r,userId:a,fullname:c,displayname:h,status:m},X.debug(`Processing Slack user: email=${R}, username=${r}, fullname=${c}, displayname=${h}`)}X.debug(`Processed ${T} Slack users (skipped ${B} rows without email)`),X.debug("Built Slack map:",M);let A=0;we.update(U=>U.map(R=>{const r=R.EmailAddress?R.EmailAddress.toLowerCase():"",a=M[r];return a?(A++,X.debug(`Matched student ${R.First} ${R.Last} with Slack user: ${a.username||"<no username>"}`),{...R,slackUsername:a.username,slackUserId:a.userId,slackFullname:a.fullname,slackDisplayname:a.displayname,slackStatus:a.status}):R})),s(1,i=`Slack CSV processed: matched ${A} students with Slack data.`),s(0,n="")}async function E(w){if(s(0,n="Loading message JSON..."),X.debug("Processing message JSON file:",w),!!w)try{const v=await w.text(),j=JSON.parse(v);X.debug("Parsed message data:",j),X.debug(`Found ${j.length} messages in JSON file ${w.name}`);const y=w.name;let M=0,T=0,B=new Set;const A=qt(we),U={};let R=0,r=0,a=0,c=0;A.forEach((S,D)=>{S.slackUsername&&(U[S.slackUsername.toLowerCase()]=D,R++,r++,X.debug(`Student ${S.First} ${S.Last} has Slack username: ${S.slackUsername}`)),S.slackDisplayname&&(U[S.slackDisplayname.toLowerCase()]=D,a++),S.slackFullname&&(U[S.slackFullname.toLowerCase()]=D,c++)}),X.debug(`Roster stats: ${R}/${A.length} students have Slack usernames`),X.debug(`Identity types: username=${r}, displayname=${a}, fullname=${c}`);const h=new Set;j.forEach(S=>{S.username&&h.add(S.username.toLowerCase())}),X.debug(`Found ${h.size} unique usernames in message data`);const m=Array.from(h);X.debug(`Message usernames (first 10): ${m.slice(0,10).join(", ")}`);const I=new Map;j.forEach(S=>{if(!S.username)return;const D=S.username.toLowerCase(),K=U[D];if(K!==void 0){const b=A[K];if(b&&b.studentId){I.has(b.studentId)||(I.set(b.studentId,[]),T++);let L=I.get(b.studentId).some(W=>W.text===S.text&&W.timestamp===S.timestamp);!L&&b.messages&&Array.isArray(b.messages)&&(L=b.messages.some(W=>W.text===S.text&&W.timestamp===S.timestamp)),L?X.debug(`Skipped duplicate message from '${D}'`):I.get(b.studentId).push({timestamp:S.timestamp,date:new Date(S.timestamp*1e3).toISOString(),source:y,text:S.text,channel:S.channel||""}),M++,X.debug(`Matched message from '${D}' to student ${b.First} ${b.Last}`)}}else B.add(D)}),we.update(S=>S.map(D=>{if(D.messages||(D.messages=[]),D.studentId&&I.has(D.studentId)){const K=JSON.parse(JSON.stringify(D.messages||[])),b=I.get(D.studentId),$=[...K];return b.forEach(L=>{$.some(P=>P.text===L.text&&P.timestamp===L.timestamp)||$.push(L)}),{...D,messages:$}}return D})),X.debug(`Unmatched usernames (${B.size}): ${Array.from(B).slice(0,10).join(", ")}...`),s(1,i=`Messages processed: matched ${M} messages to ${T} students. ${B.size} usernames couldn't be matched.`)}catch(v){X.error("Error processing message JSON:",v),s(1,i=`Error processing message JSON: ${v.message}`)}finally{s(0,n="")}}function f(w){const v=w.target.files[0];X.info("File selected for Classlist:",v),u(v),w.target.value=""}function k(w){const v=w.target.files[0];X.info("File selected for GitHub CSV:",v),o(v),w.target.value=""}function C(w){const v=w.target.files[0];X.info("File selected for Slack CSV:",v),p(v),w.target.value=""}function N(w){const v=w.target.files[0];X.info("File selected for Message JSON:",v),E(v),w.target.value=""}function z(){if(confirm("Are you sure you want to clear all messages from all students?")){let w=0,v=0;we.update(j=>j.map(y=>y.messages&&y.messages.length>0?(w++,v+=y.messages.length,{...y,messages:[]}):y)),s(1,i=`Cleared ${v} messages from ${w} students.`)}}return[n,i,f,k,C,N,z]}class ds extends qe{constructor(e){super(),Je(this,e,fs,cs,Ue,{})}}function pt(t,e,s){const n=t.slice();return n[15]=e[s],n}function mt(t,e,s){const n=t.slice();return n[18]=e[s],n}function _t(t){let e,s=t[18]+"",n,i;return{c(){e=_("option"),n=H(s),e.__value=i=t[18],e.value=e.__value},m(u,o){ie(u,e,o),l(e,n)},p(u,o){o&2&&s!==(s=u[18]+"")&&te(n,s),o&2&&i!==(i=u[18])&&(e.__value=i,e.value=e.__value)},d(u){u&&se(e)}}}function vt(t){let e,s=t[15]+"",n,i;return{c(){e=_("option"),n=H(s),e.__value=i=t[15],e.value=e.__value},m(u,o){ie(u,e,o),l(e,n)},p(u,o){o&4&&s!==(s=u[15]+"")&&te(n,s),o&4&&i!==(i=u[15])&&(e.__value=i,e.value=e.__value)},d(u){u&&se(e)}}}function hs(t){let e,s,n,i,u,o,p,E,f,k,C,N,z,w,v,j,y,M,T,B,A,U,R,r,a,c,h,m,I,S,D,K,b,$,L,W,P,O,g,J=t[1],x=[];for(let F=0;F<J.length;F+=1)x[F]=_t(mt(t,J,F));let re=t[2],ae=[];for(let F=0;F<re.length;F+=1)ae[F]=vt(pt(t,re,F));return{c(){e=_("div"),s=_("div"),n=_("label"),n.textContent="Search:",i=G(),u=_("input"),o=G(),p=_("fieldset"),E=_("legend"),E.textContent="GitHub:",f=G(),k=_("div"),C=_("button"),C.textContent="All",N=G(),z=_("button"),z.textContent="Yes",w=G(),v=_("button"),v.textContent="No",j=G(),y=_("fieldset"),M=_("legend"),M.textContent="Slack:",T=G(),B=_("div"),A=_("button"),A.textContent="All",U=G(),R=_("button"),R.textContent="Yes",r=G(),a=_("button"),a.textContent="No",c=G(),h=_("div"),m=_("label"),m.textContent="Major:",I=G(),S=_("select"),D=_("option"),D.textContent="All";for(let F=0;F<x.length;F+=1)x[F].c();K=G(),b=_("div"),$=_("label"),$.textContent="Classification:",L=G(),W=_("select"),P=_("option"),P.textContent="All";for(let F=0;F<ae.length;F+=1)ae[F].c();d(n,"for","searchInput"),d(n,"class","svelte-alvg9o"),d(u,"id","searchInput"),d(u,"type","text"),d(u,"placeholder","Name or Email"),d(u,"class","svelte-alvg9o"),d(s,"class","filter-item svelte-alvg9o"),d(E,"class","svelte-alvg9o"),d(C,"type","button"),d(C,"class","svelte-alvg9o"),ke(C,"active",t[0].hasGitHub==="all"),d(z,"type","button"),d(z,"class","svelte-alvg9o"),ke(z,"active",t[0].hasGitHub==="yes"),d(v,"type","button"),d(v,"class","svelte-alvg9o"),ke(v,"active",t[0].hasGitHub==="no"),d(k,"class","toggle-group svelte-alvg9o"),d(p,"class","filter-item svelte-alvg9o"),d(M,"class","svelte-alvg9o"),d(A,"type","button"),d(A,"class","svelte-alvg9o"),ke(A,"active",t[0].hasSlack==="all"),d(R,"type","button"),d(R,"class","svelte-alvg9o"),ke(R,"active",t[0].hasSlack==="yes"),d(a,"type","button"),d(a,"class","svelte-alvg9o"),ke(a,"active",t[0].hasSlack==="no"),d(B,"class","toggle-group svelte-alvg9o"),d(y,"class","filter-item svelte-alvg9o"),d(m,"for","majorSelect"),d(m,"class","svelte-alvg9o"),D.__value="all",D.value=D.__value,d(S,"id","majorSelect"),d(S,"class","svelte-alvg9o"),d(h,"class","filter-item svelte-alvg9o"),d($,"for","classSelect"),d($,"class","svelte-alvg9o"),P.__value="all",P.value=P.__value,d(W,"id","classSelect"),d(W,"class","svelte-alvg9o"),d(b,"class","filter-item svelte-alvg9o"),d(e,"class","filter-bar svelte-alvg9o")},m(F,V){ie(F,e,V),l(e,s),l(s,n),l(s,i),l(s,u),l(e,o),l(e,p),l(p,E),l(p,f),l(p,k),l(k,C),l(k,N),l(k,z),l(k,w),l(k,v),l(e,j),l(e,y),l(y,M),l(y,T),l(y,B),l(B,A),l(B,U),l(B,R),l(B,r),l(B,a),l(e,c),l(e,h),l(h,m),l(h,I),l(h,S),l(S,D);for(let q=0;q<x.length;q+=1)x[q]&&x[q].m(S,null);l(e,K),l(e,b),l(b,$),l(b,L),l(b,W),l(W,P);for(let q=0;q<ae.length;q+=1)ae[q]&&ae[q].m(W,null);O||(g=[ge(u,"input",t[6]),ge(C,"click",t[7]),ge(z,"click",t[8]),ge(v,"click",t[9]),ge(A,"click",t[10]),ge(R,"click",t[11]),ge(a,"click",t[12]),ge(S,"change",t[13]),ge(W,"change",t[14])],O=!0)},p(F,[V]){if(V&1&&ke(C,"active",F[0].hasGitHub==="all"),V&1&&ke(z,"active",F[0].hasGitHub==="yes"),V&1&&ke(v,"active",F[0].hasGitHub==="no"),V&1&&ke(A,"active",F[0].hasSlack==="all"),V&1&&ke(R,"active",F[0].hasSlack==="yes"),V&1&&ke(a,"active",F[0].hasSlack==="no"),V&2){J=F[1];let q;for(q=0;q<J.length;q+=1){const Y=mt(F,J,q);x[q]?x[q].p(Y,V):(x[q]=_t(Y),x[q].c(),x[q].m(S,null))}for(;q<x.length;q+=1)x[q].d(1);x.length=J.length}if(V&4){re=F[2];let q;for(q=0;q<re.length;q+=1){const Y=pt(F,re,q);ae[q]?ae[q].p(Y,V):(ae[q]=vt(Y),ae[q].c(),ae[q].m(W,null))}for(;q<ae.length;q+=1)ae[q].d(1);ae.length=re.length}},i:fe,o:fe,d(F){F&&se(e),Ge(x,F),Ge(ae,F),O=!1,Re(g)}}}function gs(t,e,s){let n,i,u;Te(t,et,M=>s(0,n=M));const o=dt(we,M=>{const T=new Set;return M.forEach(B=>{const A=B["Primary Major Title"]||B["Primary Major"];A&&T.add(A)}),Array.from(T).sort()});Te(t,o,M=>s(1,i=M));const p=dt(we,M=>{const T=new Set;return M.forEach(B=>{const A=B.Classification;A&&T.add(A)}),Array.from(T).sort()});Te(t,p,M=>s(2,u=M));function E(M,T){et.update(B=>({...B,[M]:T}))}return[n,i,u,o,p,E,M=>E("search",M.target.value),()=>E("hasGitHub","all"),()=>E("hasGitHub","yes"),()=>E("hasGitHub","no"),()=>E("hasSlack","all"),()=>E("hasSlack","yes"),()=>E("hasSlack","no"),M=>E("major",M.target.value),M=>E("classification",M.target.value)]}class ps extends qe{constructor(e){super(),Je(this,e,gs,hs,Ue,{})}}function bt(t,e,s){const n=t.slice();return n[1]=e[s],n}function ms(t){let e;return{c(){e=_("div"),e.textContent="GitHub: N/A"},m(s,n){ie(s,e,n)},p:fe,d(s){s&&se(e)}}}function _s(t){let e,s,n,i,u=t[1].githubUsername+"",o,p,E,f=t[1].githubProfile&&yt(t);return{c(){e=_("div"),s=H("GitHub: "),n=_("a"),i=H("@"),o=H(u),E=G(),f&&f.c(),d(n,"href",p="https://github.com/"+t[1].githubUsername),d(n,"target","_blank"),d(n,"rel","noopener"),d(n,"class","svelte-196c2ni")},m(k,C){ie(k,e,C),l(e,s),l(e,n),l(n,i),l(n,o),l(e,E),f&&f.m(e,null)},p(k,C){C&1&&u!==(u=k[1].githubUsername+"")&&te(o,u),C&1&&p!==(p="https://github.com/"+k[1].githubUsername)&&d(n,"href",p),k[1].githubProfile?f?f.p(k,C):(f=yt(k),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(k){k&&se(e),f&&f.d()}}}function yt(t){let e,s,n,i=(t[1].githubProfile.name||t[1].githubProfile.login)+"",u,o,p,E,f,k,C=t[1].githubProfile.public_repos+"",N,z,w,v,j,y=t[1].githubProfile.followers+"",M,T,B,A=t[1].githubProfile.bio&&kt(t),U=t[1].githubProfile.location&&wt(t);return{c(){e=_("div"),s=_("div"),n=_("strong"),u=H(i),o=G(),A&&A.c(),p=G(),E=_("div"),f=_("span"),k=_("i"),N=H(C),z=H(" repos"),w=G(),v=_("span"),j=_("i"),M=H(y),T=H(" followers"),B=G(),U&&U.c(),d(k,"class","repo-icon svelte-196c2ni"),d(f,"class","svelte-196c2ni"),d(j,"class","followers-icon svelte-196c2ni"),d(v,"class","svelte-196c2ni"),d(E,"class","stats svelte-196c2ni"),d(e,"class","github-profile svelte-196c2ni")},m(R,r){ie(R,e,r),l(e,s),l(s,n),l(n,u),l(e,o),A&&A.m(e,null),l(e,p),l(e,E),l(E,f),l(f,k),l(f,N),l(f,z),l(E,w),l(E,v),l(v,j),l(v,M),l(v,T),l(e,B),U&&U.m(e,null)},p(R,r){r&1&&i!==(i=(R[1].githubProfile.name||R[1].githubProfile.login)+"")&&te(u,i),R[1].githubProfile.bio?A?A.p(R,r):(A=kt(R),A.c(),A.m(e,p)):A&&(A.d(1),A=null),r&1&&C!==(C=R[1].githubProfile.public_repos+"")&&te(N,C),r&1&&y!==(y=R[1].githubProfile.followers+"")&&te(M,y),R[1].githubProfile.location?U?U.p(R,r):(U=wt(R),U.c(),U.m(e,null)):U&&(U.d(1),U=null)},d(R){R&&se(e),A&&A.d(),U&&U.d()}}}function kt(t){let e,s=t[1].githubProfile.bio+"",n;return{c(){e=_("div"),n=H(s),d(e,"class","bio svelte-196c2ni")},m(i,u){ie(i,e,u),l(e,n)},p(i,u){u&1&&s!==(s=i[1].githubProfile.bio+"")&&te(n,s)},d(i){i&&se(e)}}}function wt(t){let e,s,n=t[1].githubProfile.location+"",i;return{c(){e=_("div"),s=_("i"),i=H(n),d(s,"class","location-icon svelte-196c2ni")},m(u,o){ie(u,e,o),l(e,s),l(e,i)},p(u,o){o&1&&n!==(n=u[1].githubProfile.location+"")&&te(i,n)},d(u){u&&se(e)}}}function vs(t){let e;return{c(){e=_("div"),e.textContent="Slack: N/A"},m(s,n){ie(s,e,n)},p:fe,d(s){s&&se(e)}}}function bs(t){let e,s,n,i=(t[1].slackDisplayname||t[1].slackFullname||t[1].First)+"",u,o;return{c(){e=_("div"),s=H("Slack: "),n=_("a"),u=H(i),d(n,"href",o="https://penn-cis-3500.slack.com/team/"+t[1].slackUserId),d(n,"target","_blank"),d(n,"rel","noopener"),d(n,"class","svelte-196c2ni")},m(p,E){ie(p,e,E),l(e,s),l(e,n),l(n,u)},p(p,E){E&1&&i!==(i=(p[1].slackDisplayname||p[1].slackFullname||p[1].First)+"")&&te(u,i),E&1&&o!==(o="https://penn-cis-3500.slack.com/team/"+p[1].slackUserId)&&d(n,"href",o)},d(p){p&&se(e)}}}function St(t){let e,s,n,i=t[1].messages.length+"",u,o,p=t[1].messages.length!==1?"s":"",E;return{c(){e=_("div"),s=_("i"),n=G(),u=H(i),o=H(" message"),E=H(p),d(s,"class","message-icon svelte-196c2ni"),d(e,"class","message-indicator svelte-196c2ni")},m(f,k){ie(f,e,k),l(e,s),l(e,n),l(e,u),l(e,o),l(e,E)},p(f,k){k&1&&i!==(i=f[1].messages.length+"")&&te(u,i),k&1&&p!==(p=f[1].messages.length!==1?"s":"")&&te(E,p)},d(f){f&&se(e)}}}function Ct(t){let e,s,n,i,u,o,p,E,f=t[1].First+"",k,C,N=t[1].Last+"",z,w,v,j=t[1].EmailAddress+"",y,M,T,B,A=(t[1]["Primary Major Title"]||t[1]["Primary Major"])+"",U,R,r,a,c=t[1].Classification+"",h,m,I,S,D;function K(g,J){return g[1].githubUsername?_s:ms}let b=K(t),$=b(t);function L(g,J){return g[1].slackUserId?bs:vs}let W=L(t),P=W(t),O=t[1].messages&&t[1].messages.length>0&&St(t);return{c(){e=_("div"),s=_("img"),u=G(),o=_("div"),p=_("div"),E=_("strong"),k=H(f),C=G(),z=H(N),w=G(),v=_("div"),y=H(j),M=G(),T=_("div"),B=H("Major: "),U=H(A),R=G(),r=_("div"),a=H("Class: "),h=H(c),m=G(),$.c(),I=G(),P.c(),S=G(),O&&O.c(),D=G(),Ve(s.src,n=t[1].imageBlob||t[1].imageLink)||d(s,"src",n),d(s,"alt",i=t[1].First+" "+t[1].Last),d(s,"class","svelte-196c2ni"),d(o,"class","overlay svelte-196c2ni"),d(e,"class","card svelte-196c2ni")},m(g,J){ie(g,e,J),l(e,s),l(e,u),l(e,o),l(o,p),l(p,E),l(E,k),l(E,C),l(E,z),l(o,w),l(o,v),l(v,y),l(o,M),l(o,T),l(T,B),l(T,U),l(o,R),l(o,r),l(r,a),l(r,h),l(o,m),$.m(o,null),l(o,I),P.m(o,null),l(o,S),O&&O.m(o,null),l(e,D)},p(g,J){J&1&&!Ve(s.src,n=g[1].imageBlob||g[1].imageLink)&&d(s,"src",n),J&1&&i!==(i=g[1].First+" "+g[1].Last)&&d(s,"alt",i),J&1&&f!==(f=g[1].First+"")&&te(k,f),J&1&&N!==(N=g[1].Last+"")&&te(z,N),J&1&&j!==(j=g[1].EmailAddress+"")&&te(y,j),J&1&&A!==(A=(g[1]["Primary Major Title"]||g[1]["Primary Major"])+"")&&te(U,A),J&1&&c!==(c=g[1].Classification+"")&&te(h,c),b===(b=K(g))&&$?$.p(g,J):($.d(1),$=b(g),$&&($.c(),$.m(o,I))),W===(W=L(g))&&P?P.p(g,J):(P.d(1),P=W(g),P&&(P.c(),P.m(o,S))),g[1].messages&&g[1].messages.length>0?O?O.p(g,J):(O=St(g),O.c(),O.m(o,null)):O&&(O.d(1),O=null)},d(g){g&&se(e),$.d(),P.d(),O&&O.d()}}}function ys(t){let e,s=t[0],n=[];for(let i=0;i<s.length;i+=1)n[i]=Ct(bt(t,s,i));return{c(){e=_("div");for(let i=0;i<n.length;i+=1)n[i].c();d(e,"class","grid svelte-196c2ni")},m(i,u){ie(i,e,u);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(i,[u]){if(u&1){s=i[0];let o;for(o=0;o<s.length;o+=1){const p=bt(i,s,o);n[o]?n[o].p(p,u):(n[o]=Ct(p),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}},i:fe,o:fe,d(i){i&&se(e),Ge(n,i)}}}function ks(t,e,s){let{filteredRoster:n=[]}=e;return t.$$set=i=>{"filteredRoster"in i&&s(0,n=i.filteredRoster)},[n]}class ws extends qe{constructor(e){super(),Je(this,e,ks,ys,Ue,{filteredRoster:0})}}function Et(t,e,s){const n=t.slice();return n[1]=e[s],n}function Lt(t,e,s){const n=t.slice();return n[4]=e[s],n}function Ss(t){let e;return{c(){e=_("div"),e.textContent="GitHub: N/A",d(e,"class","svelte-46g9lh")},m(s,n){ie(s,e,n)},p:fe,d(s){s&&se(e)}}}function Cs(t){let e,s,n,i,u=t[1].githubUsername+"",o,p,E,f=t[1].githubProfile&&Rt(t);return{c(){e=_("div"),s=H("GitHub: "),n=_("a"),i=H("@"),o=H(u),E=G(),f&&f.c(),d(n,"href",p="https://github.com/"+t[1].githubUsername),d(n,"target","_blank"),d(n,"rel","noopener"),d(n,"class","svelte-46g9lh"),d(e,"class","svelte-46g9lh")},m(k,C){ie(k,e,C),l(e,s),l(e,n),l(n,i),l(n,o),l(e,E),f&&f.m(e,null)},p(k,C){C&1&&u!==(u=k[1].githubUsername+"")&&te(o,u),C&1&&p!==(p="https://github.com/"+k[1].githubUsername)&&d(n,"href",p),k[1].githubProfile?f?f.p(k,C):(f=Rt(k),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(k){k&&se(e),f&&f.d()}}}function Rt(t){let e,s,n,i,u,o=t[1].githubProfile.public_repos+"",p,E,f,k,C=t[1].githubProfile.followers+"",N,z,w,v=t[1].githubProfile.name&&Ot(t),j=t[1].githubProfile.bio&&$t(t),y=t[1].githubProfile.location&&Pt(t);return{c(){e=_("div"),v&&v.c(),s=G(),j&&j.c(),n=G(),i=_("div"),u=_("span"),p=H(o),E=H(" repos"),f=G(),k=_("span"),N=H(C),z=H(" followers"),w=G(),y&&y.c(),d(i,"class","github-stats svelte-46g9lh"),d(e,"class","github-profile-info svelte-46g9lh")},m(M,T){ie(M,e,T),v&&v.m(e,null),l(e,s),j&&j.m(e,null),l(e,n),l(e,i),l(i,u),l(u,p),l(u,E),l(i,f),l(i,k),l(k,N),l(k,z),l(i,w),y&&y.m(i,null)},p(M,T){M[1].githubProfile.name?v?v.p(M,T):(v=Ot(M),v.c(),v.m(e,s)):v&&(v.d(1),v=null),M[1].githubProfile.bio?j?j.p(M,T):(j=$t(M),j.c(),j.m(e,n)):j&&(j.d(1),j=null),T&1&&o!==(o=M[1].githubProfile.public_repos+"")&&te(p,o),T&1&&C!==(C=M[1].githubProfile.followers+"")&&te(N,C),M[1].githubProfile.location?y?y.p(M,T):(y=Pt(M),y.c(),y.m(i,null)):y&&(y.d(1),y=null)},d(M){M&&se(e),v&&v.d(),j&&j.d(),y&&y.d()}}}function Ot(t){let e,s,n=t[1].githubProfile.name+"",i;return{c(){e=_("div"),s=_("strong"),i=H(n),d(e,"class","svelte-46g9lh")},m(u,o){ie(u,e,o),l(e,s),l(s,i)},p(u,o){o&1&&n!==(n=u[1].githubProfile.name+"")&&te(i,n)},d(u){u&&se(e)}}}function $t(t){let e,s=t[1].githubProfile.bio+"",n;return{c(){e=_("div"),n=H(s),d(e,"class","svelte-46g9lh")},m(i,u){ie(i,e,u),l(e,n)},p(i,u){u&1&&s!==(s=i[1].githubProfile.bio+"")&&te(n,s)},d(i){i&&se(e)}}}function Pt(t){let e,s=t[1].githubProfile.location+"",n;return{c(){e=_("span"),n=H(s)},m(i,u){ie(i,e,u),l(e,n)},p(i,u){u&1&&s!==(s=i[1].githubProfile.location+"")&&te(n,s)},d(i){i&&se(e)}}}function Es(t){let e;return{c(){e=_("div"),e.textContent="Slack: N/A",d(e,"class","svelte-46g9lh")},m(s,n){ie(s,e,n)},p:fe,d(s){s&&se(e)}}}function Ls(t){let e,s,n,i=(t[1].slackDisplayname||t[1].slackFullname||t[1].First)+"",u,o;return{c(){e=_("div"),s=H("Slack: "),n=_("a"),u=H(i),d(n,"href",o="https://penn-cis-3500.slack.com/team/"+t[1].slackUserId),d(n,"target","_blank"),d(n,"rel","noopener"),d(n,"class","svelte-46g9lh"),d(e,"class","svelte-46g9lh")},m(p,E){ie(p,e,E),l(e,s),l(e,n),l(n,u)},p(p,E){E&1&&i!==(i=(p[1].slackDisplayname||p[1].slackFullname||p[1].First)+"")&&te(u,i),E&1&&o!==(o="https://penn-cis-3500.slack.com/team/"+p[1].slackUserId)&&d(n,"href",o)},d(p){p&&se(e)}}}function It(t){let e,s,n,i,u=t[1].messages.length+"",o,p,E,f,k=t[1].messages,C=[];for(let N=0;N<k.length;N+=1)C[N]=At(Lt(t,k,N));return{c(){e=_("div"),s=_("div"),n=_("span"),i=H("Messages ("),o=H(u),p=H(")"),E=G(),f=_("div");for(let N=0;N<C.length;N+=1)C[N].c();d(s,"class","messages-header svelte-46g9lh"),d(f,"class","messages-container svelte-46g9lh"),d(e,"class","svelte-46g9lh")},m(N,z){ie(N,e,z),l(e,s),l(s,n),l(n,i),l(n,o),l(n,p),l(e,E),l(e,f);for(let w=0;w<C.length;w+=1)C[w]&&C[w].m(f,null)},p(N,z){if(z&1&&u!==(u=N[1].messages.length+"")&&te(o,u),z&1){k=N[1].messages;let w;for(w=0;w<k.length;w+=1){const v=Lt(N,k,w);C[w]?C[w].p(v,z):(C[w]=At(v),C[w].c(),C[w].m(f,null))}for(;w<C.length;w+=1)C[w].d(1);C.length=k.length}},d(N){N&&se(e),Ge(C,N)}}}function At(t){let e,s,n,i=new Date(t[4].date||t[4].timestamp*1e3).toLocaleDateString()+"",u,o,p,E=(t[4].channel||"")+"",f,k,C,N=Ft(t[4].text)+"",z;return{c(){e=_("div"),s=_("div"),n=_("span"),u=H(i),o=G(),p=_("span"),f=H(E),k=G(),C=_("div"),z=G(),d(n,"class","message-date svelte-46g9lh"),d(p,"class","message-channel svelte-46g9lh"),d(s,"class","message-meta svelte-46g9lh"),d(C,"class","message-text svelte-46g9lh"),d(e,"class","message-item svelte-46g9lh")},m(w,v){ie(w,e,v),l(e,s),l(s,n),l(n,u),l(s,o),l(s,p),l(p,f),l(e,k),l(e,C),C.innerHTML=N,l(e,z)},p(w,v){v&1&&i!==(i=new Date(w[4].date||w[4].timestamp*1e3).toLocaleDateString()+"")&&te(u,i),v&1&&E!==(E=(w[4].channel||"")+"")&&te(f,E),v&1&&N!==(N=Ft(w[4].text)+"")&&(C.innerHTML=N)},d(w){w&&se(e)}}}function jt(t){let e,s,n,i,u,o,p,E,f=t[1].First+"",k,C,N=t[1].Last+"",z,w,v,j=t[1].EmailAddress+"",y,M,T,B,A=(t[1]["Primary Major Title"]||t[1]["Primary Major"])+"",U,R,r,a,c=t[1].Classification+"",h,m,I,S,D;function K(g,J){return g[1].githubUsername?Cs:Ss}let b=K(t),$=b(t);function L(g,J){return g[1].slackUserId?Ls:Es}let W=L(t),P=W(t),O=t[1].messages&&t[1].messages.length>0&&It(t);return{c(){e=_("div"),s=_("img"),u=G(),o=_("div"),p=_("div"),E=_("strong"),k=H(f),C=G(),z=H(N),w=G(),v=_("div"),y=H(j),M=G(),T=_("div"),B=H("Major: "),U=H(A),R=G(),r=_("div"),a=H("Class: "),h=H(c),m=G(),$.c(),I=G(),P.c(),S=G(),O&&O.c(),D=G(),Ve(s.src,n=t[1].imageBlob||t[1].imageLink)||d(s,"src",n),d(s,"alt",i=t[1].First+" "+t[1].Last),d(s,"class","svelte-46g9lh"),d(p,"class","svelte-46g9lh"),d(v,"class","svelte-46g9lh"),d(T,"class","svelte-46g9lh"),d(r,"class","svelte-46g9lh"),d(o,"class","student-details svelte-46g9lh"),d(e,"class","student-row svelte-46g9lh")},m(g,J){ie(g,e,J),l(e,s),l(e,u),l(e,o),l(o,p),l(p,E),l(E,k),l(E,C),l(E,z),l(o,w),l(o,v),l(v,y),l(o,M),l(o,T),l(T,B),l(T,U),l(o,R),l(o,r),l(r,a),l(r,h),l(o,m),$.m(o,null),l(o,I),P.m(o,null),l(o,S),O&&O.m(o,null),l(e,D)},p(g,J){J&1&&!Ve(s.src,n=g[1].imageBlob||g[1].imageLink)&&d(s,"src",n),J&1&&i!==(i=g[1].First+" "+g[1].Last)&&d(s,"alt",i),J&1&&f!==(f=g[1].First+"")&&te(k,f),J&1&&N!==(N=g[1].Last+"")&&te(z,N),J&1&&j!==(j=g[1].EmailAddress+"")&&te(y,j),J&1&&A!==(A=(g[1]["Primary Major Title"]||g[1]["Primary Major"])+"")&&te(U,A),J&1&&c!==(c=g[1].Classification+"")&&te(h,c),b===(b=K(g))&&$?$.p(g,J):($.d(1),$=b(g),$&&($.c(),$.m(o,I))),W===(W=L(g))&&P?P.p(g,J):(P.d(1),P=W(g),P&&(P.c(),P.m(o,S))),g[1].messages&&g[1].messages.length>0?O?O.p(g,J):(O=It(g),O.c(),O.m(o,null)):O&&(O.d(1),O=null)},d(g){g&&se(e),$.d(),P.d(),O&&O.d()}}}function Rs(t){let e,s=t[0],n=[];for(let i=0;i<s.length;i+=1)n[i]=jt(Et(t,s,i));return{c(){e=_("div");for(let i=0;i<n.length;i+=1)n[i].c();d(e,"class","list svelte-46g9lh")},m(i,u){ie(i,e,u);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(i,[u]){if(u&1){s=i[0];let o;for(o=0;o<s.length;o+=1){const p=Et(i,s,o);n[o]?n[o].p(p,u):(n[o]=jt(p),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}},i:fe,o:fe,d(i){i&&se(e),Ge(n,i)}}}function Ft(t){if(!t)return"";t=t.replace(/<(https?:\/\/[^\|>]+)(?:\|([^>]+))?>/g,(s,n,i)=>`<a href="${n}" target="_blank" rel="noopener" class="message-link">${i||n}</a>`),t=t.replace(new RegExp('(?<!\\")(https?:\\/\\/[^\\s]+)(?!\\")',"g"),s=>`<a href="${s}" target="_blank" rel="noopener" class="message-link">${s}</a>`),t=t.replace(/\*([^*]+)\*/g,"<strong>$1</strong>"),t=t.replace(/_([^_]+)_/g,"<em>$1</em>"),t=t.replace(/~([^~]+)~/g,"<del>$1</del>"),t=t.replace(/`([^`]+)`/g,"<code>$1</code>");const e={":smile:":"😊",":laughing:":"😄",":blush:":"😊",":smiley:":"😃",":relaxed:":"☺️",":smirk:":"😏",":grinning:":"😀",":wink:":"😉",":innocent:":"😇",":sunglasses:":"😎",":star-struck:":"🤩",":thinking:":"🤔",":thinking_face:":"🤔",":slightlysmilingface:":"🙂",":slightly_smiling_face:":"🙂",":+1:":"👍",":-1:":"👎",":thumbsup:":"👍",":thumbsdown:":"👎",":wave:":"👋",":clap:":"👏",":ok_hand:":"👌",":pray:":"🙏",":muscle:":"💪",":raised_hands:":"🙌",":heart:":"❤️",":tada:":"🎉",":rocket:":"🚀",":fire:":"🔥",":sparkles:":"✨",":flag-pk:":"🇵🇰",":flag-au:":"🇦🇺",":flag-il:":"🇮🇱",":flag-eg:":"🇪🇬",":squirrel:":"🐿️",":mirrorball:":"🪩",":computer:":"💻",":chart_with_upwards_trend:":"📈",":mortar_board:":"🎓"};return Object.keys(e).forEach(s=>{t=t.replace(new RegExp(s,"g"),e[s])}),t=t.replace(/\n/g,"<br>"),t}function Os(t,e,s){let{filteredRoster:n=[]}=e;return t.$$set=i=>{"filteredRoster"in i&&s(0,n=i.filteredRoster)},[n]}class $s extends qe{constructor(e){super(),Je(this,e,Os,Rs,Ue,{filteredRoster:0})}}function Mt(t){let e,s,n=Object.keys(t[0]).length+"",i,u;return{c(){e=_("span"),s=H("("),i=H(n),u=H(" in cache)"),d(e,"class","github-cache-info svelte-v8kzo8")},m(o,p){ie(o,e,p),l(e,s),l(e,i),l(e,u)},p(o,p){p&1&&n!==(n=Object.keys(o[0]).length+"")&&te(i,n)},d(o){o&&se(e)}}}function Ps(t){let e,s=Math.min(tt,t[4]-t[3])+"",n,i;return{c(){e=H("Load More GitHub ("),n=H(s),i=H(")")},m(u,o){ie(u,e,o),ie(u,n,o),ie(u,i,o)},p(u,o){o&24&&s!==(s=Math.min(tt,u[4]-u[3])+"")&&te(n,s)},d(u){u&&se(e),u&&se(n),u&&se(i)}}}function Is(t){let e;return{c(){e=H("All GitHub Profiles Loaded")},m(s,n){ie(s,e,n)},p:fe,d(s){s&&se(e)}}}function As(t){let e;return{c(){e=H("No GitHub Usernames Found")},m(s,n){ie(s,e,n)},p:fe,d(s){s&&se(e)}}}function js(t){let e;return{c(){e=H("Loading...")},m(s,n){ie(s,e,n)},p:fe,d(s){s&&se(e)}}}function Fs(t){let e,s;return e=new $s({props:{filteredRoster:t[1]}}),{c(){Ye(e.$$.fragment)},m(n,i){ze(e,n,i),s=!0},p(n,i){const u={};i&2&&(u.filteredRoster=n[1]),e.$set(u)},i(n){s||(Pe(e.$$.fragment,n),s=!0)},o(n){Fe(e.$$.fragment,n),s=!1},d(n){Be(e,n)}}}function Ms(t){let e,s;return e=new ws({props:{filteredRoster:t[1]}}),{c(){Ye(e.$$.fragment)},m(n,i){ze(e,n,i),s=!0},p(n,i){const u={};i&2&&(u.filteredRoster=n[1]),e.$set(u)},i(n){s||(Pe(e.$$.fragment,n),s=!0)},o(n){Fe(e.$$.fragment,n),s=!1},d(n){Be(e,n)}}}function Us(t){let e;return{c(){e=_("p"),e.textContent="No students found. Upload data or adjust filters.",ot(e,"text-align","center"),ot(e,"color","#666")},m(s,n){ie(s,e,n)},p:fe,i:fe,o:fe,d(s){s&&se(e)}}}function Ds(t){let e,s,n,i=t[1].length+"",u,o,p=t[1].length===1?"":"s",E,f,k,C,N,z,w,v,j,y=Object.keys(t[0]).length>0,M,T,B,A,U,R,r,a,c,h,m,I,S,D,K,b,$,L,W,P,O,g,J,x,re,ae,F,V,q,Y,oe,de,ce,le,ee,ue,Z,ne,pe,Le,he=y&&Mt(t);function Oe(Q,ye){return Q[5]?js:Q[4]===0?As:Q[3]===Q[4]?Is:Ps}let _e=Oe(t),ve=_e(t);F=new ds({}),q=new ps({});const be=[Us,Ms,Fs],me=[];function Se(Q,ye){return Q[1].length===0?0:Q[2]==="grid"?1:2}return ue=Se(t),Z=me[ue]=be[ue](t),{c(){e=_("div"),s=_("div"),n=_("div"),u=H(i),o=H(" record"),E=H(p),f=H(` displayed
      `),k=_("div"),C=_("span"),N=H("GitHub: "),z=H(t[3]),w=H("/"),v=H(t[4]),j=H(` profiles loaded
          `),he&&he.c(),M=G(),T=_("div"),B=_("button"),B.textContent="Copy Emails",A=G(),U=_("div"),R=_("button"),ve.c(),a=G(),c=_("button"),h=H("Clear GitHub Profiles"),I=G(),S=_("div"),D=_("button"),D.textContent="Export Data",K=G(),b=_("div"),$=_("button"),$.textContent="JSON (All Data)",L=G(),W=_("button"),W.textContent="CSV (All Data)",P=G(),O=_("button"),O.textContent="Messages Only",g=G(),J=_("button"),J.textContent="XM Directory Format",x=G(),re=_("button"),re.textContent="Clear All Records",ae=G(),Ye(F.$$.fragment),V=G(),Ye(q.$$.fragment),Y=G(),oe=_("div"),de=_("button"),de.textContent="Grid View",ce=G(),le=_("button"),le.textContent="List View",ee=G(),Z.c(),d(C,"class","github-status svelte-v8kzo8"),d(k,"class","github-status svelte-v8kzo8"),d(B,"class","svelte-v8kzo8"),R.disabled=r=t[5]||t[3]===t[4]&&t[4]>0,d(R,"class","svelte-v8kzo8"),c.disabled=m=t[3]===0,d(c,"class","svelte-v8kzo8"),d(U,"class","github-controls svelte-v8kzo8"),d(D,"class","export-btn svelte-v8kzo8"),d($,"class","svelte-v8kzo8"),d(W,"class","svelte-v8kzo8"),d(O,"class","svelte-v8kzo8"),d(J,"class","svelte-v8kzo8"),d(b,"class","export-content svelte-v8kzo8"),d(S,"class","export-dropdown svelte-v8kzo8"),d(re,"class","svelte-v8kzo8"),d(s,"class","top-bar svelte-v8kzo8"),d(de,"class","svelte-v8kzo8"),ke(de,"active",t[2]==="grid"),d(le,"class","svelte-v8kzo8"),ke(le,"active",t[2]==="list"),d(oe,"class","view-switcher svelte-v8kzo8")},m(Q,ye){ie(Q,e,ye),l(e,s),l(s,n),l(n,u),l(n,o),l(n,E),l(n,f),l(n,k),l(k,C),l(C,N),l(C,z),l(C,w),l(C,v),l(C,j),he&&he.m(C,null),l(s,M),l(s,T),l(T,B),l(T,A),l(T,U),l(U,R),ve.m(R,null),l(U,a),l(U,c),l(c,h),l(T,I),l(T,S),l(S,D),l(S,K),l(S,b),l(b,$),l(b,L),l(b,W),l(b,P),l(b,O),l(b,g),l(b,J),l(T,x),l(T,re),l(e,ae),ze(F,e,null),l(e,V),ze(q,e,null),l(e,Y),l(e,oe),l(oe,de),l(oe,ce),l(oe,le),l(e,ee),me[ue].m(e,null),ne=!0,pe||(Le=[ge(B,"click",t[9]),ge(R,"click",t[10]),ge(c,"click",t[6]),ge($,"click",t[14]),ge(W,"click",t[15]),ge(O,"click",t[16]),ge(J,"click",t[17]),ge(re,"click",t[8]),ge(de,"click",t[18]),ge(le,"click",t[19])],pe=!0)},p(Q,[ye]){(!ne||ye&2)&&i!==(i=Q[1].length+"")&&te(u,i),(!ne||ye&2)&&p!==(p=Q[1].length===1?"":"s")&&te(E,p),(!ne||ye&8)&&te(z,Q[3]),(!ne||ye&16)&&te(v,Q[4]),ye&1&&(y=Object.keys(Q[0]).length>0),y?he?he.p(Q,ye):(he=Mt(Q),he.c(),he.m(C,null)):he&&(he.d(1),he=null),_e===(_e=Oe(Q))&&ve?ve.p(Q,ye):(ve.d(1),ve=_e(Q),ve&&(ve.c(),ve.m(R,null))),(!ne||ye&56&&r!==(r=Q[5]||Q[3]===Q[4]&&Q[4]>0))&&(R.disabled=r),(!ne||ye&8&&m!==(m=Q[3]===0))&&(c.disabled=m),(!ne||ye&4)&&ke(de,"active",Q[2]==="grid"),(!ne||ye&4)&&ke(le,"active",Q[2]==="list");let Ce=ue;ue=Se(Q),ue===Ce?me[ue].p(Q,ye):(xt(),Fe(me[Ce],1,1,()=>{me[Ce]=null}),es(),Z=me[ue],Z?Z.p(Q,ye):(Z=me[ue]=be[ue](Q),Z.c()),Pe(Z,1),Z.m(e,null))},i(Q){ne||(Pe(F.$$.fragment,Q),Pe(q.$$.fragment,Q),Pe(Z),ne=!0)},o(Q){Fe(F.$$.fragment,Q),Fe(q.$$.fragment,Q),Fe(Z),ne=!1},d(Q){Q&&se(e),he&&he.d(),ve.d(),Be(F),Be(q),me[ue].d(),pe=!1,Re(Le)}}}let tt=20;function Ts(t,e,s){let n,i,u;Te(t,we,c=>s(12,i=c)),Te(t,et,c=>s(13,u=c)),X.setLevel("debug");let o="grid",p={},E=0,f=0,k=!1;Vt(()=>{try{const c=localStorage.getItem("githubProfiles");c&&(s(0,p=JSON.parse(c)),X.debug(`Loaded ${Object.keys(p).length} cached GitHub profiles`))}catch(c){X.error("Error loading cached GitHub profiles:",c)}z()});function C(){try{const c=JSON.stringify(p);localStorage.setItem("githubProfiles",c);const h=Object.keys(p).length,m=(c.length/1024).toFixed(1);X.debug(`Saved ${h} GitHub profiles (${m} KB) to localStorage`)}catch(c){X.error("Error saving GitHub profiles to localStorage:",c),c.name==="QuotaExceededError"&&alert("Warning: Unable to save all GitHub profiles to localStorage. The cache is full.")}}function N(){if(Object.keys(p).length===0)return;const c=[...i];let h=0;c.forEach((m,I)=>{m.githubUsername&&p[m.githubUsername]&&(c[I].githubProfile=p[m.githubUsername],h++)}),h>0&&(we.set(c),X.debug(`Applied ${h} cached GitHub profiles to roster`)),z()}function z(){const c=i.filter(h=>h.githubUsername);s(4,f=c.length),s(3,E=i.filter(h=>h.githubUsername&&h.githubProfile).length),X.debug(`GitHub profiles: ${E}/${f} loaded`)}function w(){if(!confirm("Are you sure you want to clear all cached GitHub profiles?"))return;const c=JSON.stringify(p).length,h=Object.keys(p).length;s(0,p={}),localStorage.removeItem("githubProfiles");const m=[...i];m.forEach((I,S)=>{I.githubProfile&&delete m[S].githubProfile}),we.set(m),z(),alert(`Cleared ${h} GitHub profiles (${(c/1024).toFixed(1)} KB) from localStorage.`)}function v(c){s(2,o=c)}function j(){confirm("Are you sure you want to clear all records?")&&we.set([])}async function y(){const c=n.map(h=>h.EmailAddress).filter(h=>h&&h.trim()!=="");try{await navigator.clipboard.writeText(c.join(", ")),alert(`Copied ${c.length} emails to clipboard.`)}catch(h){alert("Failed to copy emails: "+h)}}async function M(){var c;if(!k){s(5,k=!0),z();try{const m=i.filter(K=>K.githubUsername&&!K.githubProfile).slice(0,tt);if(m.length===0){alert("No more GitHub profiles to load."),s(5,k=!1);return}X.debug(`Loading batch of ${m.length} GitHub profiles`);let I=0,S=0;const D=[...i];for(const K of m)try{const b=K.githubUsername;if(!b)continue;if(p[b]){X.debug(`Using cached profile for ${b}`);const O=D.findIndex(g=>g.studentId===K.studentId);O!==-1&&(D[O].githubProfile=p[b],I++);continue}const $=await fetch(`https://api.github.com/users/${b}`);if(!$.ok)if($.status===403){const O=$.headers.get("X-RateLimit-Remaining"),g=$.headers.get("X-RateLimit-Reset");let J="GitHub API rate limit exceeded.";if(g){const x=new Date(g*1e3),re=Math.ceil((x-new Date)/(1e3*60));J+=` Rate limit will reset in approximately ${re} minute(s).`}throw J+=" Try again later or use a GitHub access token.",new Error(J)}else throw new Error(`GitHub API returned ${$.status}: ${$.statusText}`);const L=await $.json(),W={login:L.login,id:L.id,avatar_url:L.avatar_url,gravatar_id:L.gravatar_id||"",url:L.url,html_url:L.html_url,name:L.name,company:L.company,blog:L.blog,location:L.location,bio:L.bio,twitter_username:L.twitter_username,public_repos:L.public_repos,public_gists:L.public_gists,followers:L.followers,following:L.following,created_at:L.created_at,updated_at:L.updated_at};s(0,p[b]=W,p),C();const P=D.findIndex(O=>O.studentId===K.studentId);P!==-1&&(D[P].githubProfile=W),I++,await new Promise(O=>setTimeout(O,300))}catch(b){if(X.error(`Error fetching GitHub profile for ${K.githubUsername}:`,b),S++,(c=b.message)!=null&&c.includes("rate limit")){alert(b.message);break}}we.set(D),z(),(I>0||S>0)&&X.debug(`GitHub batch fetch: ${I} successful, ${S} failed`)}catch(h){X.error("Error in loadMoreGithubProfiles:",h),alert(`Error loading GitHub profiles: ${h.message}`)}finally{s(5,k=!1)}}}function T(c){if(n.length===0){alert("No data to export.");return}let h,m,I;if(c==="json"){const b=JSON.parse(JSON.stringify(n));b.forEach($=>{$.messages||($.messages=[])}),h=JSON.stringify(b,null,2),m="student-data.json",I="application/json"}else if(c==="csv"){const b=new Set;n.forEach(W=>{Object.keys(W).forEach(P=>{P!=="messages"&&b.add(P)})}),b.add("hasMessages");const $=Array.from(b),L=[$.join(",")];n.forEach(W=>{const P=$.map(O=>{if(O==="hasMessages")return W.messages&&W.messages.length>0?"true":"false";const g=W[O]||"";return typeof g=="object"&&g!==null&&!Array.isArray(g)?`"${JSON.stringify(g).replace(/"/g,'""')}"`:Array.isArray(g)?g.length:typeof g=="string"?`"${g.replace(/"/g,'""')}"`:g});L.push(P.join(","))}),h=L.join(`
`),m="student-data.csv",I="text/csv"}else if(c==="messages-only"){const b={};n.forEach($=>{if($.messages&&$.messages.length>0){const L=`${$.First||""} ${$.Last||""} (${$.studentId})`;b[L]=$.messages}}),h=JSON.stringify(b,null,2),m="student-messages.json",I="application/json"}else if(c==="xm-directory"){const b=["FirstName","LastName","Email","ExternalDataReference","Department","City","Country"],$=[b.join(",")];n.forEach(L=>{const W={FirstName:L.First||"",LastName:L.Last||"",Email:L.EmailAddress||"",ExternalDataReference:L.studentId||"",Department:L["Primary Major Title"]||L["Primary Major"]||"",City:"",Country:""},P=b.map(O=>{const g=W[O];return typeof g=="string"?`"${g.replace(/"/g,'""')}"`:g});$.push(P.join(","))}),h=$.join(`
`),m="xm-directory-export.csv",I="text/csv"}else{alert("Unsupported export format");return}const S=new Blob([h],{type:I}),D=URL.createObjectURL(S),K=document.createElement("a");K.href=D,K.download=m,document.body.appendChild(K),K.click(),setTimeout(()=>{document.body.removeChild(K),URL.revokeObjectURL(D)},100)}const B=()=>T("json"),A=()=>T("csv"),U=()=>T("messages-only"),R=()=>T("xm-directory"),r=()=>v("grid"),a=()=>v("list");return t.$$.update=()=>{t.$$.dirty&12288&&s(1,n=i.filter(c=>{let h=!0;if(u.search&&u.search.trim()!==""){const m=u.search.toLowerCase(),I=((c.First||"")+" "+(c.Last||"")).toLowerCase(),S=(c.EmailAddress||"").toLowerCase();!I.includes(m)&&!S.includes(m)&&(h=!1)}if(u.hasGitHub==="yes"&&!c.githubUsername&&(h=!1),u.hasGitHub==="no"&&c.githubUsername&&(h=!1),u.hasSlack==="yes"&&!c.slackUserId&&(h=!1),u.hasSlack==="no"&&c.slackUserId&&(h=!1),u.major&&u.major!=="all"){const m=u.major.toLowerCase();(c["Primary Major Title"]||c["Primary Major"]||"").toLowerCase().includes(m)||(h=!1)}return u.classification&&u.classification!=="all"&&(c.Classification||"").toLowerCase()!==u.classification.toLowerCase()&&(h=!1),h})),t.$$.dirty&2&&X.debug("Filtered roster count:",n.length),t.$$.dirty&4097&&i&&(z(),Object.keys(p).length>0&&N())},[p,n,o,E,f,k,w,v,j,y,M,T,i,u,B,A,U,R,r,a]}class Ns extends qe{constructor(e){super(),Je(this,e,Ts,Ds,Ue,{})}}async function Gs(){await os(),new Ns({target:document.getElementById("app")})}Gs();app;
