(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function i(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerPolicy&&(u.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?u.credentials="include":r.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(r){if(r.ep)return;r.ep=!0;const u=i(r);fetch(r.href,u)}})();function he(){}function It(t){return t()}function at(){return Object.create(null)}function Ee(t){t.forEach(It)}function tt(t){return typeof t=="function"}function Ue(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Je;function We(t,e){return Je||(Je=document.createElement("a")),Je.href=e,t===Je.href}function Gt(t){return Object.keys(t).length===0}function nt(t,...e){if(t==null)return he;const i=t.subscribe(...e);return i.unsubscribe?()=>i.unsubscribe():i}function Nt(t){let e;return nt(t,i=>e=i)(),e}function Te(t,e,i){t.$$.on_destroy.push(nt(e,i))}function a(t,e){t.appendChild(e)}function re(t,e,i){t.insertBefore(e,i||null)}function ee(t){t.parentNode&&t.parentNode.removeChild(t)}function Ke(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function _(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function H(){return z(" ")}function pe(t,e,i,n){return t.addEventListener(e,i,n),()=>t.removeEventListener(e,i,n)}function h(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}function Ht(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function ot(t,e,i,n){i==null?t.style.removeProperty(e):t.style.setProperty(e,i,n?"important":"")}function ye(t,e,i){t.classList[i?"add":"remove"](e)}let Ge;function De(t){Ge=t}function zt(){if(!Ge)throw new Error("Function called outside component initialization");return Ge}function Bt(t){zt().$$.on_mount.push(t)}const Ae=[],ut=[];let Fe=[];const ct=[],Jt=Promise.resolve();let Xe=!1;function qt(){Xe||(Xe=!0,Jt.then(At))}function Ze(t){Fe.push(t)}const Ye=new Set;let $e=0;function At(){if($e!==0)return;const t=Ge;do{try{for(;$e<Ae.length;){const e=Ae[$e];$e++,De(e),Wt(e.$$)}}catch(e){throw Ae.length=0,$e=0,e}for(De(null),Ae.length=0,$e=0;ut.length;)ut.pop()();for(let e=0;e<Fe.length;e+=1){const i=Fe[e];Ye.has(i)||(Ye.add(i),i())}Fe.length=0}while(Ae.length);for(;ct.length;)ct.pop()();Xe=!1,Ye.clear(),De(t)}function Wt(t){if(t.fragment!==null){t.update(),Ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}function Kt(t){const e=[],i=[];Fe.forEach(n=>t.indexOf(n)===-1?e.push(n):i.push(n)),i.forEach(n=>n()),Fe=e}const qe=new Set;let Re;function Vt(){Re={r:0,c:[],p:Re}}function Yt(){Re.r||Ee(Re.c),Re=Re.p}function Oe(t,e){t&&t.i&&(qe.delete(t),t.i(e))}function je(t,e,i,n){if(t&&t.o){if(qe.has(t))return;qe.add(t),Re.c.push(()=>{qe.delete(t),n&&(i&&t.d(1),n())}),t.o(e)}else n&&n()}function Ve(t){t&&t.c()}function Ne(t,e,i,n){const{fragment:r,after_update:u}=t.$$;r&&r.m(e,i),n||Ze(()=>{const o=t.$$.on_mount.map(It).filter(tt);t.$$.on_destroy?t.$$.on_destroy.push(...o):Ee(o),t.$$.on_mount=[]}),u.forEach(Ze)}function He(t,e){const i=t.$$;i.fragment!==null&&(Kt(i.after_update),Ee(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function Qt(t,e){t.$$.dirty[0]===-1&&(Ae.push(t),qt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ze(t,e,i,n,r,u,o,p=[-1]){const L=Ge;De(t);const f=t.$$={fragment:null,ctx:[],props:u,update:he,not_equal:r,bound:at(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(L?L.$$.context:[])),callbacks:at(),dirty:p,skip_bound:!1,root:e.target||L.$$.root};o&&o(f.root);let S=!1;if(f.ctx=i?i(t,e.props||{},(I,Y,...E)=>{const M=E.length?E[0]:Y;return f.ctx&&r(f.ctx[I],f.ctx[I]=M)&&(!f.skip_bound&&f.bound[I]&&f.bound[I](M),S&&Qt(t,I)),Y}):[],f.update(),S=!0,Ee(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const I=Ht(e.target);f.fragment&&f.fragment.l(I),I.forEach(ee)}else f.fragment&&f.fragment.c();e.intro&&Oe(t.$$.fragment),Ne(t,e.target,e.anchor,e.customElement),At()}De(L)}class Be{$destroy(){He(this,1),this.$destroy=he}$on(e,i){if(!tt(i))return he;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(i),()=>{const r=n.indexOf(i);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!Gt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ft(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ut={exports:{}};(function(t){(function(e,i){t.exports?t.exports=i():e.log=i()})(jt,function(){var e=function(){},i="undefined",n=typeof window!==i&&typeof window.navigator!==i&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"],u={},o=null;function p(v,j){var b=v[j];if(typeof b.bind=="function")return b.bind(v);try{return Function.prototype.bind.call(b,v)}catch{return function(){return Function.prototype.apply.apply(b,[v,arguments])}}}function L(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function f(v){return v==="debug"&&(v="log"),typeof console===i?!1:v==="trace"&&n?L:console[v]!==void 0?p(console,v):console.log!==void 0?p(console,"log"):e}function S(){for(var v=this.getLevel(),j=0;j<r.length;j++){var b=r[j];this[b]=j<v?e:this.methodFactory(b,v,this.name)}if(this.log=this.debug,typeof console===i&&v<this.levels.SILENT)return"No console available for logging"}function I(v){return function(){typeof console!==i&&(S.call(this),this[v].apply(this,arguments))}}function Y(v,j,b){return f(v)||I.apply(this,arguments)}function E(v,j){var b=this,A,O,T,w="loglevel";typeof v=="string"?w+=":"+v:typeof v=="symbol"&&(w=void 0);function F(d){var g=(r[d]||"silent").toUpperCase();if(!(typeof window===i||!w)){try{window.localStorage[w]=g;return}catch{}try{window.document.cookie=encodeURIComponent(w)+"="+g+";"}catch{}}}function R(){var d;if(!(typeof window===i||!w)){try{d=window.localStorage[w]}catch{}if(typeof d===i)try{var g=window.document.cookie,y=encodeURIComponent(w),$=g.indexOf(y+"=");$!==-1&&(d=/^([^;]+)/.exec(g.slice($+y.length+1))[1])}catch{}return b.levels[d]===void 0&&(d=void 0),d}}function l(){if(!(typeof window===i||!w)){try{window.localStorage.removeItem(w)}catch{}try{window.document.cookie=encodeURIComponent(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function s(d){var g=d;if(typeof g=="string"&&b.levels[g.toUpperCase()]!==void 0&&(g=b.levels[g.toUpperCase()]),typeof g=="number"&&g>=0&&g<=b.levels.SILENT)return g;throw new TypeError("log.setLevel() called with invalid level: "+d)}b.name=v,b.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},b.methodFactory=j||Y,b.getLevel=function(){return T??O??A},b.setLevel=function(d,g){return T=s(d),g!==!1&&F(T),S.call(b)},b.setDefaultLevel=function(d){O=s(d),R()||b.setLevel(d,!1)},b.resetLevel=function(){T=null,l(),S.call(b)},b.enableAll=function(d){b.setLevel(b.levels.TRACE,d)},b.disableAll=function(d){b.setLevel(b.levels.SILENT,d)},b.rebuild=function(){if(o!==b&&(A=s(o.getLevel())),S.call(b),o===b)for(var d in u)u[d].rebuild()},A=s(o?o.getLevel():"WARN");var c=R();c!=null&&(T=s(c)),S.call(b)}o=new E,o.getLogger=function(j){if(typeof j!="symbol"&&typeof j!="string"||j==="")throw new TypeError("You must supply a name when creating a logger.");var b=u[j];return b||(b=u[j]=new E(j,o.methodFactory)),b};var M=typeof window!==i?window.log:void 0;return o.noConflict=function(){return typeof window!==i&&window.log===o&&(window.log=M),o},o.getLoggers=function(){return u},o.default=o,o})})(Ut);var Xt=Ut.exports;const X=Ft(Xt);var Mt={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){((i,n)=>{t.exports=n()})(jt,function i(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r,u=!n.document&&!!n.postMessage,o=n.IS_PAPA_WORKER||!1,p={},L=0,f={};function S(l){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(s){var c=w(s);c.chunkSize=parseInt(c.chunkSize),s.step||s.chunk||(c.chunkSize=null),this._handle=new v(c),(this._handle.streamer=this)._config=c}).call(this,l),this.parseChunk=function(s,c){var d=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<d){let y=this._config.newline;y||(g=this._config.quoteChar||'"',y=this._handle.guessLineEndings(s,g)),s=[...s.split(y).slice(d)].join(y)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(g=this._config.beforeFirstChunk(s))!==void 0&&(s=g),this.isFirstChunk=!1,this._halted=!1;var d=this._partialLine+s,g=(this._partialLine="",this._handle.parse(d,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(s=g.meta.cursor,d=(this._finished||(this._partialLine=d.substring(s-this._baseIndex),this._baseIndex=s),g&&g.data&&(this._rowCount+=g.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)n.postMessage({results:g,workerId:f.WORKER_ID,finished:d});else if(R(this._config.chunk)&&!c){if(this._config.chunk(g,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=g=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(g.data),this._completeResults.errors=this._completeResults.errors.concat(g.errors),this._completeResults.meta=g.meta),this._completed||!d||!R(this._config.complete)||g&&g.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),d||g&&g.meta.paused||this._nextChunk(),g}this._halted=!0},this._sendError=function(s){R(this._config.error)?this._config.error(s):o&&this._config.error&&n.postMessage({workerId:f.WORKER_ID,error:s,finished:!1})}}function I(l){var s;(l=l||{}).chunkSize||(l.chunkSize=f.RemoteChunkSize),S.call(this,l),this._nextChunk=u?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(c){this._input=c,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(s=new XMLHttpRequest,this._config.withCredentials&&(s.withCredentials=this._config.withCredentials),u||(s.onload=F(this._chunkLoaded,this),s.onerror=F(this._chunkError,this)),s.open(this._config.downloadRequestBody?"POST":"GET",this._input,!u),this._config.downloadRequestHeaders){var c,d=this._config.downloadRequestHeaders;for(c in d)s.setRequestHeader(c,d[c])}var g;this._config.chunkSize&&(g=this._start+this._config.chunkSize-1,s.setRequestHeader("Range","bytes="+this._start+"-"+g));try{s.send(this._config.downloadRequestBody)}catch(y){this._chunkError(y.message)}u&&s.status===0&&this._chunkError()}},this._chunkLoaded=function(){s.readyState===4&&(s.status<200||400<=s.status?this._chunkError():(this._start+=this._config.chunkSize||s.responseText.length,this._finished=!this._config.chunkSize||this._start>=(c=>(c=c.getResponseHeader("Content-Range"))!==null?parseInt(c.substring(c.lastIndexOf("/")+1)):-1)(s),this.parseChunk(s.responseText)))},this._chunkError=function(c){c=s.statusText||c,this._sendError(new Error(c))}}function Y(l){(l=l||{}).chunkSize||(l.chunkSize=f.LocalChunkSize),S.call(this,l);var s,c,d=typeof FileReader<"u";this.stream=function(g){this._input=g,c=g.slice||g.webkitSlice||g.mozSlice,d?((s=new FileReader).onload=F(this._chunkLoaded,this),s.onerror=F(this._chunkError,this)):s=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var g=this._input,y=(this._config.chunkSize&&(y=Math.min(this._start+this._config.chunkSize,this._input.size),g=c.call(g,this._start,y)),s.readAsText(g,this._config.encoding));d||this._chunkLoaded({target:{result:y}})},this._chunkLoaded=function(g){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(g.target.result)},this._chunkError=function(){this._sendError(s.error)}}function E(l){var s;S.call(this,l=l||{}),this.stream=function(c){return s=c,this._nextChunk()},this._nextChunk=function(){var c,d;if(!this._finished)return c=this._config.chunkSize,s=c?(d=s.substring(0,c),s.substring(c)):(d=s,""),this._finished=!s,this.parseChunk(d)}}function M(l){S.call(this,l=l||{});var s=[],c=!0,d=!1;this.pause=function(){S.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){S.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(g){this._input=g,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){d&&s.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),s.length?this.parseChunk(s.shift()):c=!0},this._streamData=F(function(g){try{s.push(typeof g=="string"?g:g.toString(this._config.encoding)),c&&(c=!1,this._checkIsFinished(),this.parseChunk(s.shift()))}catch(y){this._streamError(y)}},this),this._streamError=F(function(g){this._streamCleanUp(),this._sendError(g)},this),this._streamEnd=F(function(){this._streamCleanUp(),d=!0,this._streamData("")},this),this._streamCleanUp=F(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(l){var s,c,d,g,y=Math.pow(2,53),$=-y,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,J=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,k=this,G=0,U=0,B=!1,m=!1,C=[],N={data:[],errors:[],meta:{}};function te(P){return l.skipEmptyLines==="greedy"?P.join("").trim()==="":P.length===1&&P[0].length===0}function Z(){if(N&&d&&(ae("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+f.DefaultDelimiter+"'"),d=!1),l.skipEmptyLines&&(N.data=N.data.filter(function(ue){return!te(ue)})),le()){let ue=function(ge,ce){R(l.transformHeader)&&(ge=l.transformHeader(ge,ce)),C.push(ge)};var K=ue;if(N)if(Array.isArray(N.data[0])){for(var P=0;le()&&P<N.data.length;P++)N.data[P].forEach(ue);N.data.splice(0,1)}else N.data.forEach(ue)}function Q(ue,ge){for(var ce=l.header?{}:[],x=0;x<ue.length;x++){var V=x,oe=ue[x],oe=((ne,fe)=>(ie=>(l.dynamicTypingFunction&&l.dynamicTyping[ie]===void 0&&(l.dynamicTyping[ie]=l.dynamicTypingFunction(ie)),(l.dynamicTyping[ie]||l.dynamicTyping)===!0))(ne)?fe==="true"||fe==="TRUE"||fe!=="false"&&fe!=="FALSE"&&((ie=>{if(W.test(ie)&&(ie=parseFloat(ie),$<ie&&ie<y))return 1})(fe)?parseFloat(fe):J.test(fe)?new Date(fe):fe===""?null:fe):fe)(V=l.header?x>=C.length?"__parsed_extra":C[x]:V,oe=l.transform?l.transform(oe,V):oe);V==="__parsed_extra"?(ce[V]=ce[V]||[],ce[V].push(oe)):ce[V]=oe}return l.header&&(x>C.length?ae("FieldMismatch","TooManyFields","Too many fields: expected "+C.length+" fields but parsed "+x,U+ge):x<C.length&&ae("FieldMismatch","TooFewFields","Too few fields: expected "+C.length+" fields but parsed "+x,U+ge)),ce}var D;N&&(l.header||l.dynamicTyping||l.transform)&&(D=1,!N.data.length||Array.isArray(N.data[0])?(N.data=N.data.map(Q),D=N.data.length):N.data=Q(N.data,0),l.header&&N.meta&&(N.meta.fields=C),U+=D)}function le(){return l.header&&C.length===0}function ae(P,Q,D,K){P={type:P,code:Q,message:D},K!==void 0&&(P.row=K),N.errors.push(P)}R(l.step)&&(g=l.step,l.step=function(P){N=P,le()?Z():(Z(),N.data.length!==0&&(G+=P.data.length,l.preview&&G>l.preview?c.abort():(N.data=N.data[0],g(N,k))))}),this.parse=function(P,Q,D){var K=l.quoteChar||'"',K=(l.newline||(l.newline=this.guessLineEndings(P,K)),d=!1,l.delimiter?R(l.delimiter)&&(l.delimiter=l.delimiter(P),N.meta.delimiter=l.delimiter):((K=((ue,ge,ce,x,V)=>{var oe,ne,fe,ie;V=V||[",","	","|",";",f.RECORD_SEP,f.UNIT_SEP];for(var Ce=0;Ce<V.length;Ce++){for(var ke,ve=V[Ce],me=0,be=0,_e=0,q=(fe=void 0,new b({comments:x,delimiter:ve,newline:ge,preview:10}).parse(ue)),de=0;de<q.data.length;de++)ce&&te(q.data[de])?_e++:(ke=q.data[de].length,be+=ke,fe===void 0?fe=ke:0<ke&&(me+=Math.abs(ke-fe),fe=ke));0<q.data.length&&(be/=q.data.length-_e),(ne===void 0||me<=ne)&&(ie===void 0||ie<be)&&1.99<be&&(ne=me,oe=ve,ie=be)}return{successful:!!(l.delimiter=oe),bestDelimiter:oe}})(P,l.newline,l.skipEmptyLines,l.comments,l.delimitersToGuess)).successful?l.delimiter=K.bestDelimiter:(d=!0,l.delimiter=f.DefaultDelimiter),N.meta.delimiter=l.delimiter),w(l));return l.preview&&l.header&&K.preview++,s=P,c=new b(K),N=c.parse(s,Q,D),Z(),B?{meta:{paused:!0}}:N||{meta:{paused:!1}}},this.paused=function(){return B},this.pause=function(){B=!0,c.abort(),s=R(l.chunk)?"":s.substring(c.getCharIndex())},this.resume=function(){k.streamer._halted?(B=!1,k.streamer.parseChunk(s,!0)):setTimeout(k.resume,3)},this.aborted=function(){return m},this.abort=function(){m=!0,c.abort(),N.meta.aborted=!0,R(l.complete)&&l.complete(N),s=""},this.guessLineEndings=function(ue,K){ue=ue.substring(0,1048576);var K=new RegExp(j(K)+"([^]*?)"+j(K),"gm"),D=(ue=ue.replace(K,"")).split("\r"),K=ue.split(`
`),ue=1<K.length&&K[0].length<D[0].length;if(D.length===1||ue)return`
`;for(var ge=0,ce=0;ce<D.length;ce++)D[ce][0]===`
`&&ge++;return ge>=D.length/2?`\r
`:"\r"}}function j(l){return l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function b(l){var s=(l=l||{}).delimiter,c=l.newline,d=l.comments,g=l.step,y=l.preview,$=l.fastMode,W=null,J=!1,k=l.quoteChar==null?'"':l.quoteChar,G=k;if(l.escapeChar!==void 0&&(G=l.escapeChar),(typeof s!="string"||-1<f.BAD_DELIMITERS.indexOf(s))&&(s=","),d===s)throw new Error("Comment character same as delimiter");d===!0?d="#":(typeof d!="string"||-1<f.BAD_DELIMITERS.indexOf(d))&&(d=!1),c!==`
`&&c!=="\r"&&c!==`\r
`&&(c=`
`);var U=0,B=!1;this.parse=function(m,C,N){if(typeof m!="string")throw new Error("Input must be a string");var te=m.length,Z=s.length,le=c.length,ae=d.length,P=R(g),Q=[],D=[],K=[],ue=U=0;if(!m)return me();if($||$!==!1&&m.indexOf(k)===-1){for(var ge=m.split(c),ce=0;ce<ge.length;ce++){if(K=ge[ce],U+=K.length,ce!==ge.length-1)U+=c.length;else if(N)return me();if(!d||K.substring(0,ae)!==d){if(P){if(Q=[],ie(K.split(s)),be(),B)return me()}else ie(K.split(s));if(y&&y<=ce)return Q=Q.slice(0,y),me(!0)}}return me()}for(var x=m.indexOf(s,U),V=m.indexOf(c,U),oe=new RegExp(j(G)+j(k),"g"),ne=m.indexOf(k,U);;)if(m[U]===k)for(ne=U,U++;;){if((ne=m.indexOf(k,ne+1))===-1)return N||D.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Q.length,index:U}),ke();if(ne===te-1)return ke(m.substring(U,ne).replace(oe,k));if(k===G&&m[ne+1]===G)ne++;else if(k===G||ne===0||m[ne-1]!==G){x!==-1&&x<ne+1&&(x=m.indexOf(s,ne+1));var fe=Ce((V=V!==-1&&V<ne+1?m.indexOf(c,ne+1):V)===-1?x:Math.min(x,V));if(m.substr(ne+1+fe,Z)===s){K.push(m.substring(U,ne).replace(oe,k)),m[U=ne+1+fe+Z]!==k&&(ne=m.indexOf(k,U)),x=m.indexOf(s,U),V=m.indexOf(c,U);break}if(fe=Ce(V),m.substring(ne+1+fe,ne+1+fe+le)===c){if(K.push(m.substring(U,ne).replace(oe,k)),ve(ne+1+fe+le),x=m.indexOf(s,U),ne=m.indexOf(k,U),P&&(be(),B))return me();if(y&&Q.length>=y)return me(!0);break}D.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Q.length,index:U}),ne++}}else if(d&&K.length===0&&m.substring(U,U+ae)===d){if(V===-1)return me();U=V+le,V=m.indexOf(c,U),x=m.indexOf(s,U)}else if(x!==-1&&(x<V||V===-1))K.push(m.substring(U,x)),U=x+Z,x=m.indexOf(s,U);else{if(V===-1)break;if(K.push(m.substring(U,V)),ve(V+le),P&&(be(),B))return me();if(y&&Q.length>=y)return me(!0)}return ke();function ie(_e){Q.push(_e),ue=U}function Ce(_e){var q=0;return q=_e!==-1&&(_e=m.substring(ne+1,_e))&&_e.trim()===""?_e.length:q}function ke(_e){return N||(_e===void 0&&(_e=m.substring(U)),K.push(_e),U=te,ie(K),P&&be()),me()}function ve(_e){U=_e,ie(K),K=[],V=m.indexOf(c,U)}function me(_e){if(l.header&&!C&&Q.length&&!J){var q=Q[0],de={},Le=new Set(q);let rt=!1;for(let Pe=0;Pe<q.length;Pe++){let Se=q[Pe];if(de[Se=R(l.transformHeader)?l.transformHeader(Se,Pe):Se]){let Me,lt=de[Se];for(;Me=Se+"_"+lt,lt++,Le.has(Me););Le.add(Me),q[Pe]=Me,de[Se]++,rt=!0,(W=W===null?{}:W)[Me]=Se}else de[Se]=1,q[Pe]=Se;Le.add(Se)}rt&&console.warn("Duplicate headers found and renamed."),J=!0}return{data:Q,errors:D,meta:{delimiter:s,linebreak:c,aborted:B,truncated:!!_e,cursor:ue+(C||0),renamedHeaders:W}}}function be(){g(me()),Q=[],D=[]}},this.abort=function(){B=!0},this.getCharIndex=function(){return U}}function A(l){var s=l.data,c=p[s.workerId],d=!1;if(s.error)c.userError(s.error,s.file);else if(s.results&&s.results.data){var g={abort:function(){d=!0,O(s.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:T,resume:T};if(R(c.userStep)){for(var y=0;y<s.results.data.length&&(c.userStep({data:s.results.data[y],errors:s.results.errors,meta:s.results.meta},g),!d);y++);delete s.results}else R(c.userChunk)&&(c.userChunk(s.results,g,s.file),delete s.results)}s.finished&&!d&&O(s.workerId,s.results)}function O(l,s){var c=p[l];R(c.userComplete)&&c.userComplete(s),c.terminate(),delete p[l]}function T(){throw new Error("Not implemented.")}function w(l){if(typeof l!="object"||l===null)return l;var s,c=Array.isArray(l)?[]:{};for(s in l)c[s]=w(l[s]);return c}function F(l,s){return function(){l.apply(s,arguments)}}function R(l){return typeof l=="function"}return f.parse=function(l,s){var c=(s=s||{}).dynamicTyping||!1;if(R(c)&&(s.dynamicTypingFunction=c,c={}),s.dynamicTyping=c,s.transform=!!R(s.transform)&&s.transform,!s.worker||!f.WORKERS_SUPPORTED)return c=null,f.NODE_STREAM_INPUT,typeof l=="string"?(l=(d=>d.charCodeAt(0)!==65279?d:d.slice(1))(l),c=new(s.download?I:E)(s)):l.readable===!0&&R(l.read)&&R(l.on)?c=new M(s):(n.File&&l instanceof File||l instanceof Object)&&(c=new Y(s)),c.stream(l);(c=(()=>{var d;return!!f.WORKERS_SUPPORTED&&(d=(()=>{var g=n.URL||n.webkitURL||null,y=i.toString();return f.BLOB_URL||(f.BLOB_URL=g.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",y,")();"],{type:"text/javascript"})))})(),(d=new n.Worker(d)).onmessage=A,d.id=L++,p[d.id]=d)})()).userStep=s.step,c.userChunk=s.chunk,c.userComplete=s.complete,c.userError=s.error,s.step=R(s.step),s.chunk=R(s.chunk),s.complete=R(s.complete),s.error=R(s.error),delete s.worker,c.postMessage({input:l,config:s,workerId:c.id})},f.unparse=function(l,s){var c=!1,d=!0,g=",",y=`\r
`,$='"',W=$+$,J=!1,k=null,G=!1,U=((()=>{if(typeof s=="object"){if(typeof s.delimiter!="string"||f.BAD_DELIMITERS.filter(function(C){return s.delimiter.indexOf(C)!==-1}).length||(g=s.delimiter),typeof s.quotes!="boolean"&&typeof s.quotes!="function"&&!Array.isArray(s.quotes)||(c=s.quotes),typeof s.skipEmptyLines!="boolean"&&typeof s.skipEmptyLines!="string"||(J=s.skipEmptyLines),typeof s.newline=="string"&&(y=s.newline),typeof s.quoteChar=="string"&&($=s.quoteChar),typeof s.header=="boolean"&&(d=s.header),Array.isArray(s.columns)){if(s.columns.length===0)throw new Error("Option columns is empty");k=s.columns}s.escapeChar!==void 0&&(W=s.escapeChar+$),s.escapeFormulae instanceof RegExp?G=s.escapeFormulae:typeof s.escapeFormulae=="boolean"&&s.escapeFormulae&&(G=/^[=+\-@\t\r].*$/)}})(),new RegExp(j($),"g"));if(typeof l=="string"&&(l=JSON.parse(l)),Array.isArray(l)){if(!l.length||Array.isArray(l[0]))return B(null,l,J);if(typeof l[0]=="object")return B(k||Object.keys(l[0]),l,J)}else if(typeof l=="object")return typeof l.data=="string"&&(l.data=JSON.parse(l.data)),Array.isArray(l.data)&&(l.fields||(l.fields=l.meta&&l.meta.fields||k),l.fields||(l.fields=Array.isArray(l.data[0])?l.fields:typeof l.data[0]=="object"?Object.keys(l.data[0]):[]),Array.isArray(l.data[0])||typeof l.data[0]=="object"||(l.data=[l.data])),B(l.fields||[],l.data||[],J);throw new Error("Unable to serialize unrecognized input");function B(C,N,te){var Z="",le=(typeof C=="string"&&(C=JSON.parse(C)),typeof N=="string"&&(N=JSON.parse(N)),Array.isArray(C)&&0<C.length),ae=!Array.isArray(N[0]);if(le&&d){for(var P=0;P<C.length;P++)0<P&&(Z+=g),Z+=m(C[P],P);0<N.length&&(Z+=y)}for(var Q=0;Q<N.length;Q++){var D=(le?C:N[Q]).length,K=!1,ue=le?Object.keys(N[Q]).length===0:N[Q].length===0;if(te&&!le&&(K=te==="greedy"?N[Q].join("").trim()==="":N[Q].length===1&&N[Q][0].length===0),te==="greedy"&&le){for(var ge=[],ce=0;ce<D;ce++){var x=ae?C[ce]:ce;ge.push(N[Q][x])}K=ge.join("").trim()===""}if(!K){for(var V=0;V<D;V++){0<V&&!ue&&(Z+=g);var oe=le&&ae?C[V]:V;Z+=m(N[Q][oe],V)}Q<N.length-1&&(!te||0<D&&!ue)&&(Z+=y)}}return Z}function m(C,N){var te,Z;return C==null?"":C.constructor===Date?JSON.stringify(C).slice(1,25):(Z=!1,G&&typeof C=="string"&&G.test(C)&&(C="'"+C,Z=!0),te=C.toString().replace(U,W),(Z=Z||c===!0||typeof c=="function"&&c(C,N)||Array.isArray(c)&&c[N]||((le,ae)=>{for(var P=0;P<ae.length;P++)if(-1<le.indexOf(ae[P]))return!0;return!1})(te,f.BAD_DELIMITERS)||-1<te.indexOf(g)||te.charAt(0)===" "||te.charAt(te.length-1)===" ")?$+te+$:te)}},f.RECORD_SEP=String.fromCharCode(30),f.UNIT_SEP=String.fromCharCode(31),f.BYTE_ORDER_MARK="\uFEFF",f.BAD_DELIMITERS=["\r",`
`,'"',f.BYTE_ORDER_MARK],f.WORKERS_SUPPORTED=!u&&!!n.Worker,f.NODE_STREAM_INPUT=1,f.LocalChunkSize=10485760,f.RemoteChunkSize=5242880,f.DefaultDelimiter=",",f.Parser=b,f.ParserHandle=v,f.NetworkStreamer=I,f.FileStreamer=Y,f.StringStreamer=E,f.ReadableStreamStreamer=M,n.jQuery&&((r=n.jQuery).fn.parse=function(l){var s=l.config||{},c=[];return this.each(function(y){if(!(r(this).prop("tagName").toUpperCase()==="INPUT"&&r(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)c.push({file:this.files[$],inputElem:this,instanceConfig:r.extend({},s)})}),d(),this;function d(){if(c.length===0)R(l.complete)&&l.complete();else{var y,$,W,J,k=c[0];if(R(l.before)){var G=l.before(k.file,k.inputElem);if(typeof G=="object"){if(G.action==="abort")return y="AbortError",$=k.file,W=k.inputElem,J=G.reason,void(R(l.error)&&l.error({name:y},$,W,J));if(G.action==="skip")return void g();typeof G.config=="object"&&(k.instanceConfig=r.extend(k.instanceConfig,G.config))}else if(G==="skip")return void g()}var U=k.instanceConfig.complete;k.instanceConfig.complete=function(B){R(U)&&U(B,k.file,k.inputElem),g()},f.parse(k.file,k.instanceConfig)}}function g(){c.splice(0,1),d()}}),o&&(n.onmessage=function(l){l=l.data,f.WORKER_ID===void 0&&l&&(f.WORKER_ID=l.workerId),typeof l.input=="string"?n.postMessage({workerId:f.WORKER_ID,results:f.parse(l.input,l.config),finished:!0}):(n.File&&l.input instanceof File||l.input instanceof Object)&&(l=f.parse(l.input,l.config))&&n.postMessage({workerId:f.WORKER_ID,results:l,finished:!0})}),(I.prototype=Object.create(S.prototype)).constructor=I,(Y.prototype=Object.create(S.prototype)).constructor=Y,(E.prototype=Object.create(E.prototype)).constructor=E,(M.prototype=Object.create(S.prototype)).constructor=M,f})})(Mt);var Zt=Mt.exports;const ft=Ft(Zt),Ie=[];function xt(t,e){return{subscribe:it(t,e).subscribe}}function it(t,e=he){let i;const n=new Set;function r(p){if(Ue(t,p)&&(t=p,i)){const L=!Ie.length;for(const f of n)f[1](),Ie.push(f,t);if(L){for(let f=0;f<Ie.length;f+=2)Ie[f][0](Ie[f+1]);Ie.length=0}}}function u(p){r(p(t))}function o(p,L=he){const f=[p,L];return n.add(f),n.size===1&&(i=e(r)||he),p(t),()=>{n.delete(f),n.size===0&&i&&(i(),i=null)}}return{set:r,update:u,subscribe:o}}function dt(t,e,i){const n=!Array.isArray(t),r=n?[t]:t,u=e.length<2;return xt(i,o=>{let p=!1;const L=[];let f=0,S=he;const I=()=>{if(f)return;S();const E=e(n?L[0]:L,o);u?o(E):S=tt(E)?E:he},Y=r.map((E,M)=>nt(E,v=>{L[M]=v,f&=~(1<<M),p&&I()},()=>{f|=1<<M}));return p=!0,I(),function(){Ee(Y),S(),p=!1}})}function st(t){return new Promise((e,i)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>i(t.error)})}function en(t,e){const i=indexedDB.open(t);i.onupgradeneeded=()=>i.result.createObjectStore(e);const n=st(i);return(r,u)=>n.then(o=>u(o.transaction(e,r).objectStore(e)))}let Qe;function Tt(){return Qe||(Qe=en("keyval-store","keyval")),Qe}function tn(t,e=Tt()){return e("readonly",i=>st(i.get(t)))}function nn(t,e,i=Tt()){return i("readwrite",n=>(n.put(e,t),st(n.transaction)))}const we=it([]),xe=it({search:"",hasGitHub:"all",hasSlack:"all",major:"all",classification:"all"}),Dt="student-dashboard-roster";async function sn(){const t=await tn(Dt);t&&we.set(t)}function rn(t){return nn(Dt,t)}we.subscribe(t=>{t&&t.length>0&&rn(t)});function ht(t){let e,i;return{c(){e=_("div"),i=z(t[0]),h(e,"class","status loading svelte-1a52a76")},m(n,r){re(n,e,r),a(e,i)},p(n,r){r&1&&se(i,n[0])},d(n){n&&ee(e)}}}function gt(t){let e,i;return{c(){e=_("div"),i=z(t[1]),h(e,"class","status confirmation svelte-1a52a76")},m(n,r){re(n,e,r),a(e,i)},p(n,r){r&2&&se(i,n[1])},d(n){n&&ee(e)}}}function ln(t){let e,i,n,r,u,o,p,L,f,S,I,Y,E,M,v,j,b,A,O,T,w,F,R,l,s,c,d=t[0]&&ht(t),g=t[1]&&gt(t);return{c(){e=_("div"),i=_("h3"),i.textContent="Upload Data",n=H(),r=_("div"),u=_("label"),u.textContent="Classlist JSON:",o=H(),p=_("input"),L=H(),f=_("div"),S=_("label"),S.textContent="GitHub CSV:",I=H(),Y=_("input"),E=H(),M=_("div"),v=_("label"),v.textContent="Slack CSV:",j=H(),b=_("input"),A=H(),O=_("div"),T=_("label"),T.textContent="Message JSON:",w=H(),F=_("input"),R=H(),d&&d.c(),l=H(),g&&g.c(),h(u,"for","classlist"),h(u,"class","svelte-1a52a76"),h(p,"id","classlist"),h(p,"type","file"),h(p,"accept",".json"),h(p,"class","svelte-1a52a76"),h(r,"class","svelte-1a52a76"),h(S,"for","github"),h(S,"class","svelte-1a52a76"),h(Y,"id","github"),h(Y,"type","file"),h(Y,"accept",".csv"),h(Y,"class","svelte-1a52a76"),h(f,"class","svelte-1a52a76"),h(v,"for","slack"),h(v,"class","svelte-1a52a76"),h(b,"id","slack"),h(b,"type","file"),h(b,"accept",".csv"),h(b,"class","svelte-1a52a76"),h(M,"class","svelte-1a52a76"),h(T,"for","messages"),h(T,"class","svelte-1a52a76"),h(F,"id","messages"),h(F,"type","file"),h(F,"accept",".json"),h(F,"class","svelte-1a52a76"),h(O,"class","svelte-1a52a76"),h(e,"class","upload-section svelte-1a52a76")},m(y,$){re(y,e,$),a(e,i),a(e,n),a(e,r),a(r,u),a(r,o),a(r,p),a(e,L),a(e,f),a(f,S),a(f,I),a(f,Y),a(e,E),a(e,M),a(M,v),a(M,j),a(M,b),a(e,A),a(e,O),a(O,T),a(O,w),a(O,F),a(e,R),d&&d.m(e,null),a(e,l),g&&g.m(e,null),s||(c=[pe(p,"change",t[2]),pe(Y,"change",t[3]),pe(b,"change",t[4]),pe(F,"change",t[5])],s=!0)},p(y,[$]){y[0]?d?d.p(y,$):(d=ht(y),d.c(),d.m(e,l)):d&&(d.d(1),d=null),y[1]?g?g.p(y,$):(g=gt(y),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},i:he,o:he,d(y){y&&ee(e),d&&d.d(),g&&g.d(),s=!1,Ee(c)}}}function an(t,e,i){X.setLevel("debug");let n="",r="";async function u(E){if(i(0,n="Loading classlist JSON..."),X.debug("Processing JSON file:",E),!!E)try{const M=await E.text(),v=JSON.parse(M);X.debug("Parsed JSON data:",v),X.debug("Found",v.length,"students in JSON."),we.set(v),i(1,r=`Loaded ${v.length} students from JSON.`)}catch(M){X.error("Error parsing JSON:",M),i(1,r=`Error loading JSON: ${M.message}`)}finally{i(0,n="")}}async function o(E){if(i(0,n="Loading GitHub CSV..."),X.debug("Processing GitHub CSV file:",E),!E)return;const M=await E.text(),v=ft.parse(M,{header:!0});X.debug("Parsed GitHub CSV:",v);const j=v.data,b={};let A=0;for(const O of j){const T=O["Your PennID:"]?O["Your PennID:"].trim():null;if(!T)continue;const w=O.Timestamp?O.Timestamp.trim():"",F=new Date(w).valueOf()||0,R=O["Your GitHub username:"]?O["Your GitHub username:"].trim():null;(!b[T]||F>b[T].dateVal)&&(b[T]={dateVal:F,githubUsername:R})}X.debug("Built GitHub map:",b),we.update(O=>O.map(T=>{const w=b[T.studentId];return w&&w.githubUsername&&T.githubUsername!==w.githubUsername?(A++,{...T,githubUsername:w.githubUsername}):T})),i(1,r=A>0?`GitHub CSV processed: updated ${A} record${A===1?"":"s"}.`:"GitHub CSV processed: no changes made."),i(0,n="")}async function p(E){if(i(0,n="Loading Slack CSV..."),X.debug("Processing Slack CSV file:",E),!E)return;const M=await E.text(),v=ft.parse(M,{header:!0});X.debug("Parsed Slack CSV:",v);const j=v.data,b={};let A=0,O=0;for(const w of j){if(!w.email){O++;continue}A++;const F=w.email.trim().toLowerCase(),R=w.username?w.username.trim():null,l=w.userid?w.userid.trim():null,s=w.fullname?w.fullname.trim():null,c=w.displayname?w.displayname.trim():null,d=w.status?w.status.trim():null;b[F]={username:R,userId:l,fullname:s,displayname:c,status:d},X.debug(`Processing Slack user: email=${F}, username=${R}, fullname=${s}, displayname=${c}`)}X.debug(`Processed ${A} Slack users (skipped ${O} rows without email)`),X.debug("Built Slack map:",b);let T=0;we.update(w=>w.map(F=>{const R=F.EmailAddress?F.EmailAddress.toLowerCase():"",l=b[R];return l?(T++,X.debug(`Matched student ${F.First} ${F.Last} with Slack user: ${l.username||"<no username>"}`),{...F,slackUsername:l.username,slackUserId:l.userId,slackFullname:l.fullname,slackDisplayname:l.displayname,slackStatus:l.status}):F})),i(1,r=`Slack CSV processed: matched ${T} students with Slack data.`),i(0,n="")}async function L(E){if(i(0,n="Loading message JSON..."),X.debug("Processing message JSON file:",E),!!E)try{const M=await E.text(),v=JSON.parse(M);X.debug("Parsed message data:",v),X.debug(`Found ${v.length} messages in JSON file ${E.name}`);const j=E.name;let b=0,A=0,O=new Set;const T=Nt(we),w={};let F=0,R=0,l=0,s=0;T.forEach((y,$)=>{y.slackUsername&&(w[y.slackUsername.toLowerCase()]=$,F++,R++,X.debug(`Student ${y.First} ${y.Last} has Slack username: ${y.slackUsername}`)),y.slackDisplayname&&(w[y.slackDisplayname.toLowerCase()]=$,l++),y.slackFullname&&(w[y.slackFullname.toLowerCase()]=$,s++)}),X.debug(`Roster stats: ${F}/${T.length} students have Slack usernames`),X.debug(`Identity types: username=${R}, displayname=${l}, fullname=${s}`);const c=new Set;v.forEach(y=>{y.username&&c.add(y.username.toLowerCase())}),X.debug(`Found ${c.size} unique usernames in message data`);const d=Array.from(c);X.debug(`Message usernames (first 10): ${d.slice(0,10).join(", ")}`);const g=new Map;v.forEach(y=>{if(!y.username)return;const $=y.username.toLowerCase(),W=w[$];if(W!==void 0){const J=T[W];J&&J.studentId&&(g.has(J.studentId)||(g.set(J.studentId,[]),A++),g.get(J.studentId).push({timestamp:y.timestamp,source:j,text:y.text}),b++,X.debug(`Matched message from '${$}' to student ${J.First} ${J.Last}`))}else O.add($)}),we.update(y=>y.map($=>{if($.messages||($.messages=[]),$.studentId&&g.has($.studentId)){const W=g.get($.studentId);return{...$,messages:[...$.messages,...W]}}return $})),X.debug(`Unmatched usernames (${O.size}): ${Array.from(O).slice(0,10).join(", ")}...`),i(1,r=`Messages processed: matched ${b} messages to ${A} students. ${O.size} usernames couldn't be matched.`)}catch(M){X.error("Error processing message JSON:",M),i(1,r=`Error processing message JSON: ${M.message}`)}finally{i(0,n="")}}function f(E){const M=E.target.files[0];X.info("File selected for Classlist:",M),u(M),E.target.value=""}function S(E){const M=E.target.files[0];X.info("File selected for GitHub CSV:",M),o(M),E.target.value=""}function I(E){const M=E.target.files[0];X.info("File selected for Slack CSV:",M),p(M),E.target.value=""}function Y(E){const M=E.target.files[0];X.info("File selected for Message JSON:",M),L(M),E.target.value=""}return[n,r,f,S,I,Y]}class on extends Be{constructor(e){super(),ze(this,e,an,ln,Ue,{})}}function pt(t,e,i){const n=t.slice();return n[15]=e[i],n}function _t(t,e,i){const n=t.slice();return n[18]=e[i],n}function mt(t){let e,i=t[18]+"",n,r;return{c(){e=_("option"),n=z(i),e.__value=r=t[18],e.value=e.__value},m(u,o){re(u,e,o),a(e,n)},p(u,o){o&2&&i!==(i=u[18]+"")&&se(n,i),o&2&&r!==(r=u[18])&&(e.__value=r,e.value=e.__value)},d(u){u&&ee(e)}}}function bt(t){let e,i=t[15]+"",n,r;return{c(){e=_("option"),n=z(i),e.__value=r=t[15],e.value=e.__value},m(u,o){re(u,e,o),a(e,n)},p(u,o){o&4&&i!==(i=u[15]+"")&&se(n,i),o&4&&r!==(r=u[15])&&(e.__value=r,e.value=e.__value)},d(u){u&&ee(e)}}}function un(t){let e,i,n,r,u,o,p,L,f,S,I,Y,E,M,v,j,b,A,O,T,w,F,R,l,s,c,d,g,y,$,W,J,k,G,U,B,m,C,N,te=t[1],Z=[];for(let P=0;P<te.length;P+=1)Z[P]=mt(_t(t,te,P));let le=t[2],ae=[];for(let P=0;P<le.length;P+=1)ae[P]=bt(pt(t,le,P));return{c(){e=_("div"),i=_("div"),n=_("label"),n.textContent="Search:",r=H(),u=_("input"),o=H(),p=_("fieldset"),L=_("legend"),L.textContent="GitHub:",f=H(),S=_("div"),I=_("button"),I.textContent="All",Y=H(),E=_("button"),E.textContent="Yes",M=H(),v=_("button"),v.textContent="No",j=H(),b=_("fieldset"),A=_("legend"),A.textContent="Slack:",O=H(),T=_("div"),w=_("button"),w.textContent="All",F=H(),R=_("button"),R.textContent="Yes",l=H(),s=_("button"),s.textContent="No",c=H(),d=_("div"),g=_("label"),g.textContent="Major:",y=H(),$=_("select"),W=_("option"),W.textContent="All";for(let P=0;P<Z.length;P+=1)Z[P].c();J=H(),k=_("div"),G=_("label"),G.textContent="Classification:",U=H(),B=_("select"),m=_("option"),m.textContent="All";for(let P=0;P<ae.length;P+=1)ae[P].c();h(n,"for","searchInput"),h(n,"class","svelte-alvg9o"),h(u,"id","searchInput"),h(u,"type","text"),h(u,"placeholder","Name or Email"),h(u,"class","svelte-alvg9o"),h(i,"class","filter-item svelte-alvg9o"),h(L,"class","svelte-alvg9o"),h(I,"type","button"),h(I,"class","svelte-alvg9o"),ye(I,"active",t[0].hasGitHub==="all"),h(E,"type","button"),h(E,"class","svelte-alvg9o"),ye(E,"active",t[0].hasGitHub==="yes"),h(v,"type","button"),h(v,"class","svelte-alvg9o"),ye(v,"active",t[0].hasGitHub==="no"),h(S,"class","toggle-group svelte-alvg9o"),h(p,"class","filter-item svelte-alvg9o"),h(A,"class","svelte-alvg9o"),h(w,"type","button"),h(w,"class","svelte-alvg9o"),ye(w,"active",t[0].hasSlack==="all"),h(R,"type","button"),h(R,"class","svelte-alvg9o"),ye(R,"active",t[0].hasSlack==="yes"),h(s,"type","button"),h(s,"class","svelte-alvg9o"),ye(s,"active",t[0].hasSlack==="no"),h(T,"class","toggle-group svelte-alvg9o"),h(b,"class","filter-item svelte-alvg9o"),h(g,"for","majorSelect"),h(g,"class","svelte-alvg9o"),W.__value="all",W.value=W.__value,h($,"id","majorSelect"),h($,"class","svelte-alvg9o"),h(d,"class","filter-item svelte-alvg9o"),h(G,"for","classSelect"),h(G,"class","svelte-alvg9o"),m.__value="all",m.value=m.__value,h(B,"id","classSelect"),h(B,"class","svelte-alvg9o"),h(k,"class","filter-item svelte-alvg9o"),h(e,"class","filter-bar svelte-alvg9o")},m(P,Q){re(P,e,Q),a(e,i),a(i,n),a(i,r),a(i,u),a(e,o),a(e,p),a(p,L),a(p,f),a(p,S),a(S,I),a(S,Y),a(S,E),a(S,M),a(S,v),a(e,j),a(e,b),a(b,A),a(b,O),a(b,T),a(T,w),a(T,F),a(T,R),a(T,l),a(T,s),a(e,c),a(e,d),a(d,g),a(d,y),a(d,$),a($,W);for(let D=0;D<Z.length;D+=1)Z[D]&&Z[D].m($,null);a(e,J),a(e,k),a(k,G),a(k,U),a(k,B),a(B,m);for(let D=0;D<ae.length;D+=1)ae[D]&&ae[D].m(B,null);C||(N=[pe(u,"input",t[6]),pe(I,"click",t[7]),pe(E,"click",t[8]),pe(v,"click",t[9]),pe(w,"click",t[10]),pe(R,"click",t[11]),pe(s,"click",t[12]),pe($,"change",t[13]),pe(B,"change",t[14])],C=!0)},p(P,[Q]){if(Q&1&&ye(I,"active",P[0].hasGitHub==="all"),Q&1&&ye(E,"active",P[0].hasGitHub==="yes"),Q&1&&ye(v,"active",P[0].hasGitHub==="no"),Q&1&&ye(w,"active",P[0].hasSlack==="all"),Q&1&&ye(R,"active",P[0].hasSlack==="yes"),Q&1&&ye(s,"active",P[0].hasSlack==="no"),Q&2){te=P[1];let D;for(D=0;D<te.length;D+=1){const K=_t(P,te,D);Z[D]?Z[D].p(K,Q):(Z[D]=mt(K),Z[D].c(),Z[D].m($,null))}for(;D<Z.length;D+=1)Z[D].d(1);Z.length=te.length}if(Q&4){le=P[2];let D;for(D=0;D<le.length;D+=1){const K=pt(P,le,D);ae[D]?ae[D].p(K,Q):(ae[D]=bt(K),ae[D].c(),ae[D].m(B,null))}for(;D<ae.length;D+=1)ae[D].d(1);ae.length=le.length}},i:he,o:he,d(P){P&&ee(e),Ke(Z,P),Ke(ae,P),C=!1,Ee(N)}}}function cn(t,e,i){let n,r,u;Te(t,xe,A=>i(0,n=A));const o=dt(we,A=>{const O=new Set;return A.forEach(T=>{const w=T["Primary Major Title"]||T["Primary Major"];w&&O.add(w)}),Array.from(O).sort()});Te(t,o,A=>i(1,r=A));const p=dt(we,A=>{const O=new Set;return A.forEach(T=>{const w=T.Classification;w&&O.add(w)}),Array.from(O).sort()});Te(t,p,A=>i(2,u=A));function L(A,O){xe.update(T=>({...T,[A]:O}))}return[n,r,u,o,p,L,A=>L("search",A.target.value),()=>L("hasGitHub","all"),()=>L("hasGitHub","yes"),()=>L("hasGitHub","no"),()=>L("hasSlack","all"),()=>L("hasSlack","yes"),()=>L("hasSlack","no"),A=>L("major",A.target.value),A=>L("classification",A.target.value)]}class fn extends Be{constructor(e){super(),ze(this,e,cn,un,Ue,{})}}function vt(t,e,i){const n=t.slice();return n[1]=e[i],n}function dn(t){let e;return{c(){e=_("div"),e.textContent="GitHub: N/A"},m(i,n){re(i,e,n)},p:he,d(i){i&&ee(e)}}}function hn(t){let e,i,n,r,u=t[1].githubUsername+"",o,p,L,f=t[1].githubProfile&&yt(t);return{c(){e=_("div"),i=z("GitHub: "),n=_("a"),r=z("@"),o=z(u),L=H(),f&&f.c(),h(n,"href",p="https://github.com/"+t[1].githubUsername),h(n,"target","_blank"),h(n,"rel","noopener"),h(n,"class","svelte-10iuh8d")},m(S,I){re(S,e,I),a(e,i),a(e,n),a(n,r),a(n,o),a(e,L),f&&f.m(e,null)},p(S,I){I&1&&u!==(u=S[1].githubUsername+"")&&se(o,u),I&1&&p!==(p="https://github.com/"+S[1].githubUsername)&&h(n,"href",p),S[1].githubProfile?f?f.p(S,I):(f=yt(S),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(S){S&&ee(e),f&&f.d()}}}function yt(t){let e,i,n,r=(t[1].githubProfile.name||t[1].githubProfile.login)+"",u,o,p,L,f,S,I=t[1].githubProfile.public_repos+"",Y,E,M,v,j,b=t[1].githubProfile.followers+"",A,O,T,w=t[1].githubProfile.bio&&kt(t),F=t[1].githubProfile.location&&wt(t);return{c(){e=_("div"),i=_("div"),n=_("strong"),u=z(r),o=H(),w&&w.c(),p=H(),L=_("div"),f=_("span"),S=_("i"),Y=z(I),E=z(" repos"),M=H(),v=_("span"),j=_("i"),A=z(b),O=z(" followers"),T=H(),F&&F.c(),h(S,"class","repo-icon svelte-10iuh8d"),h(f,"class","svelte-10iuh8d"),h(j,"class","followers-icon svelte-10iuh8d"),h(v,"class","svelte-10iuh8d"),h(L,"class","stats svelte-10iuh8d"),h(e,"class","github-profile svelte-10iuh8d")},m(R,l){re(R,e,l),a(e,i),a(i,n),a(n,u),a(e,o),w&&w.m(e,null),a(e,p),a(e,L),a(L,f),a(f,S),a(f,Y),a(f,E),a(L,M),a(L,v),a(v,j),a(v,A),a(v,O),a(e,T),F&&F.m(e,null)},p(R,l){l&1&&r!==(r=(R[1].githubProfile.name||R[1].githubProfile.login)+"")&&se(u,r),R[1].githubProfile.bio?w?w.p(R,l):(w=kt(R),w.c(),w.m(e,p)):w&&(w.d(1),w=null),l&1&&I!==(I=R[1].githubProfile.public_repos+"")&&se(Y,I),l&1&&b!==(b=R[1].githubProfile.followers+"")&&se(A,b),R[1].githubProfile.location?F?F.p(R,l):(F=wt(R),F.c(),F.m(e,null)):F&&(F.d(1),F=null)},d(R){R&&ee(e),w&&w.d(),F&&F.d()}}}function kt(t){let e,i=t[1].githubProfile.bio+"",n;return{c(){e=_("div"),n=z(i),h(e,"class","bio svelte-10iuh8d")},m(r,u){re(r,e,u),a(e,n)},p(r,u){u&1&&i!==(i=r[1].githubProfile.bio+"")&&se(n,i)},d(r){r&&ee(e)}}}function wt(t){let e,i,n=t[1].githubProfile.location+"",r;return{c(){e=_("div"),i=_("i"),r=z(n),h(i,"class","location-icon svelte-10iuh8d")},m(u,o){re(u,e,o),a(e,i),a(e,r)},p(u,o){o&1&&n!==(n=u[1].githubProfile.location+"")&&se(r,n)},d(u){u&&ee(e)}}}function gn(t){let e;return{c(){e=_("div"),e.textContent="Slack: N/A"},m(i,n){re(i,e,n)},p:he,d(i){i&&ee(e)}}}function pn(t){let e,i,n,r=(t[1].slackDisplayname||t[1].slackFullname||t[1].First)+"",u,o;return{c(){e=_("div"),i=z("Slack: "),n=_("a"),u=z(r),h(n,"href",o="https://penn-cis-3500.slack.com/team/"+t[1].slackUserId),h(n,"target","_blank"),h(n,"rel","noopener"),h(n,"class","svelte-10iuh8d")},m(p,L){re(p,e,L),a(e,i),a(e,n),a(n,u)},p(p,L){L&1&&r!==(r=(p[1].slackDisplayname||p[1].slackFullname||p[1].First)+"")&&se(u,r),L&1&&o!==(o="https://penn-cis-3500.slack.com/team/"+p[1].slackUserId)&&h(n,"href",o)},d(p){p&&ee(e)}}}function St(t){let e,i,n,r,u,o,p,L,f=t[1].First+"",S,I,Y=t[1].Last+"",E,M,v,j=t[1].EmailAddress+"",b,A,O,T,w=(t[1]["Primary Major Title"]||t[1]["Primary Major"])+"",F,R,l,s,c=t[1].Classification+"",d,g,y,$;function W(m,C){return m[1].githubUsername?hn:dn}let J=W(t),k=J(t);function G(m,C){return m[1].slackUserId?pn:gn}let U=G(t),B=U(t);return{c(){e=_("div"),i=_("img"),u=H(),o=_("div"),p=_("div"),L=_("strong"),S=z(f),I=H(),E=z(Y),M=H(),v=_("div"),b=z(j),A=H(),O=_("div"),T=z("Major: "),F=z(w),R=H(),l=_("div"),s=z("Class: "),d=z(c),g=H(),k.c(),y=H(),B.c(),$=H(),We(i.src,n=t[1].imageBlob||t[1].imageLink)||h(i,"src",n),h(i,"alt",r=t[1].First+" "+t[1].Last),h(i,"class","svelte-10iuh8d"),h(o,"class","overlay svelte-10iuh8d"),h(e,"class","card svelte-10iuh8d")},m(m,C){re(m,e,C),a(e,i),a(e,u),a(e,o),a(o,p),a(p,L),a(L,S),a(L,I),a(L,E),a(o,M),a(o,v),a(v,b),a(o,A),a(o,O),a(O,T),a(O,F),a(o,R),a(o,l),a(l,s),a(l,d),a(o,g),k.m(o,null),a(o,y),B.m(o,null),a(e,$)},p(m,C){C&1&&!We(i.src,n=m[1].imageBlob||m[1].imageLink)&&h(i,"src",n),C&1&&r!==(r=m[1].First+" "+m[1].Last)&&h(i,"alt",r),C&1&&f!==(f=m[1].First+"")&&se(S,f),C&1&&Y!==(Y=m[1].Last+"")&&se(E,Y),C&1&&j!==(j=m[1].EmailAddress+"")&&se(b,j),C&1&&w!==(w=(m[1]["Primary Major Title"]||m[1]["Primary Major"])+"")&&se(F,w),C&1&&c!==(c=m[1].Classification+"")&&se(d,c),J===(J=W(m))&&k?k.p(m,C):(k.d(1),k=J(m),k&&(k.c(),k.m(o,y))),U===(U=G(m))&&B?B.p(m,C):(B.d(1),B=U(m),B&&(B.c(),B.m(o,null)))},d(m){m&&ee(e),k.d(),B.d()}}}function _n(t){let e,i=t[0],n=[];for(let r=0;r<i.length;r+=1)n[r]=St(vt(t,i,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","grid svelte-10iuh8d")},m(r,u){re(r,e,u);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,[u]){if(u&1){i=r[0];let o;for(o=0;o<i.length;o+=1){const p=vt(r,i,o);n[o]?n[o].p(p,u):(n[o]=St(p),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},i:he,o:he,d(r){r&&ee(e),Ke(n,r)}}}function mn(t,e,i){let{filteredRoster:n=[]}=e;return t.$$set=r=>{"filteredRoster"in r&&i(0,n=r.filteredRoster)},[n]}class bn extends Be{constructor(e){super(),ze(this,e,mn,_n,Ue,{filteredRoster:0})}}function Ct(t,e,i){const n=t.slice();return n[1]=e[i],n}function vn(t){let e;return{c(){e=_("div"),e.textContent="GitHub: N/A",h(e,"class","svelte-1mxay72")},m(i,n){re(i,e,n)},p:he,d(i){i&&ee(e)}}}function yn(t){let e,i,n,r,u=t[1].githubUsername+"",o,p,L,f=t[1].githubProfile&&Et(t);return{c(){e=_("div"),i=z("GitHub: "),n=_("a"),r=z("@"),o=z(u),L=H(),f&&f.c(),h(n,"href",p="https://github.com/"+t[1].githubUsername),h(n,"target","_blank"),h(n,"rel","noopener"),h(n,"class","svelte-1mxay72"),h(e,"class","svelte-1mxay72")},m(S,I){re(S,e,I),a(e,i),a(e,n),a(n,r),a(n,o),a(e,L),f&&f.m(e,null)},p(S,I){I&1&&u!==(u=S[1].githubUsername+"")&&se(o,u),I&1&&p!==(p="https://github.com/"+S[1].githubUsername)&&h(n,"href",p),S[1].githubProfile?f?f.p(S,I):(f=Et(S),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(S){S&&ee(e),f&&f.d()}}}function Et(t){let e,i,n,r,u,o=t[1].githubProfile.public_repos+"",p,L,f,S,I=t[1].githubProfile.followers+"",Y,E,M,v=t[1].githubProfile.name&&Lt(t),j=t[1].githubProfile.bio&&Rt(t),b=t[1].githubProfile.location&&Ot(t);return{c(){e=_("div"),v&&v.c(),i=H(),j&&j.c(),n=H(),r=_("div"),u=_("span"),p=z(o),L=z(" repos"),f=H(),S=_("span"),Y=z(I),E=z(" followers"),M=H(),b&&b.c(),h(r,"class","github-stats svelte-1mxay72"),h(e,"class","github-profile-info svelte-1mxay72")},m(A,O){re(A,e,O),v&&v.m(e,null),a(e,i),j&&j.m(e,null),a(e,n),a(e,r),a(r,u),a(u,p),a(u,L),a(r,f),a(r,S),a(S,Y),a(S,E),a(r,M),b&&b.m(r,null)},p(A,O){A[1].githubProfile.name?v?v.p(A,O):(v=Lt(A),v.c(),v.m(e,i)):v&&(v.d(1),v=null),A[1].githubProfile.bio?j?j.p(A,O):(j=Rt(A),j.c(),j.m(e,n)):j&&(j.d(1),j=null),O&1&&o!==(o=A[1].githubProfile.public_repos+"")&&se(p,o),O&1&&I!==(I=A[1].githubProfile.followers+"")&&se(Y,I),A[1].githubProfile.location?b?b.p(A,O):(b=Ot(A),b.c(),b.m(r,null)):b&&(b.d(1),b=null)},d(A){A&&ee(e),v&&v.d(),j&&j.d(),b&&b.d()}}}function Lt(t){let e,i,n=t[1].githubProfile.name+"",r;return{c(){e=_("div"),i=_("strong"),r=z(n),h(e,"class","svelte-1mxay72")},m(u,o){re(u,e,o),a(e,i),a(i,r)},p(u,o){o&1&&n!==(n=u[1].githubProfile.name+"")&&se(r,n)},d(u){u&&ee(e)}}}function Rt(t){let e,i=t[1].githubProfile.bio+"",n;return{c(){e=_("div"),n=z(i),h(e,"class","svelte-1mxay72")},m(r,u){re(r,e,u),a(e,n)},p(r,u){u&1&&i!==(i=r[1].githubProfile.bio+"")&&se(n,i)},d(r){r&&ee(e)}}}function Ot(t){let e,i=t[1].githubProfile.location+"",n;return{c(){e=_("span"),n=z(i)},m(r,u){re(r,e,u),a(e,n)},p(r,u){u&1&&i!==(i=r[1].githubProfile.location+"")&&se(n,i)},d(r){r&&ee(e)}}}function kn(t){let e;return{c(){e=_("div"),e.textContent="Slack: N/A",h(e,"class","svelte-1mxay72")},m(i,n){re(i,e,n)},p:he,d(i){i&&ee(e)}}}function wn(t){let e,i,n,r=(t[1].slackDisplayname||t[1].slackFullname||t[1].First)+"",u,o;return{c(){e=_("div"),i=z("Slack: "),n=_("a"),u=z(r),h(n,"href",o="https://penn-cis-3500.slack.com/team/"+t[1].slackUserId),h(n,"target","_blank"),h(n,"rel","noopener"),h(n,"class","svelte-1mxay72"),h(e,"class","svelte-1mxay72")},m(p,L){re(p,e,L),a(e,i),a(e,n),a(n,u)},p(p,L){L&1&&r!==(r=(p[1].slackDisplayname||p[1].slackFullname||p[1].First)+"")&&se(u,r),L&1&&o!==(o="https://penn-cis-3500.slack.com/team/"+p[1].slackUserId)&&h(n,"href",o)},d(p){p&&ee(e)}}}function Pt(t){let e,i,n,r,u,o,p,L,f=t[1].First+"",S,I,Y=t[1].Last+"",E,M,v,j=t[1].EmailAddress+"",b,A,O,T,w=(t[1]["Primary Major Title"]||t[1]["Primary Major"])+"",F,R,l,s,c=t[1].Classification+"",d,g,y,$;function W(m,C){return m[1].githubUsername?yn:vn}let J=W(t),k=J(t);function G(m,C){return m[1].slackUserId?wn:kn}let U=G(t),B=U(t);return{c(){e=_("div"),i=_("img"),u=H(),o=_("div"),p=_("div"),L=_("strong"),S=z(f),I=H(),E=z(Y),M=H(),v=_("div"),b=z(j),A=H(),O=_("div"),T=z("Major: "),F=z(w),R=H(),l=_("div"),s=z("Class: "),d=z(c),g=H(),k.c(),y=H(),B.c(),$=H(),We(i.src,n=t[1].imageBlob||t[1].imageLink)||h(i,"src",n),h(i,"alt",r=t[1].First+" "+t[1].Last),h(i,"class","svelte-1mxay72"),h(p,"class","svelte-1mxay72"),h(v,"class","svelte-1mxay72"),h(O,"class","svelte-1mxay72"),h(l,"class","svelte-1mxay72"),h(o,"class","student-details svelte-1mxay72"),h(e,"class","student-row svelte-1mxay72")},m(m,C){re(m,e,C),a(e,i),a(e,u),a(e,o),a(o,p),a(p,L),a(L,S),a(L,I),a(L,E),a(o,M),a(o,v),a(v,b),a(o,A),a(o,O),a(O,T),a(O,F),a(o,R),a(o,l),a(l,s),a(l,d),a(o,g),k.m(o,null),a(o,y),B.m(o,null),a(e,$)},p(m,C){C&1&&!We(i.src,n=m[1].imageBlob||m[1].imageLink)&&h(i,"src",n),C&1&&r!==(r=m[1].First+" "+m[1].Last)&&h(i,"alt",r),C&1&&f!==(f=m[1].First+"")&&se(S,f),C&1&&Y!==(Y=m[1].Last+"")&&se(E,Y),C&1&&j!==(j=m[1].EmailAddress+"")&&se(b,j),C&1&&w!==(w=(m[1]["Primary Major Title"]||m[1]["Primary Major"])+"")&&se(F,w),C&1&&c!==(c=m[1].Classification+"")&&se(d,c),J===(J=W(m))&&k?k.p(m,C):(k.d(1),k=J(m),k&&(k.c(),k.m(o,y))),U===(U=G(m))&&B?B.p(m,C):(B.d(1),B=U(m),B&&(B.c(),B.m(o,null)))},d(m){m&&ee(e),k.d(),B.d()}}}function Sn(t){let e,i=t[0],n=[];for(let r=0;r<i.length;r+=1)n[r]=Pt(Ct(t,i,r));return{c(){e=_("div");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","list svelte-1mxay72")},m(r,u){re(r,e,u);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,[u]){if(u&1){i=r[0];let o;for(o=0;o<i.length;o+=1){const p=Ct(r,i,o);n[o]?n[o].p(p,u):(n[o]=Pt(p),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=i.length}},i:he,o:he,d(r){r&&ee(e),Ke(n,r)}}}function Cn(t,e,i){let{filteredRoster:n=[]}=e;return t.$$set=r=>{"filteredRoster"in r&&i(0,n=r.filteredRoster)},[n]}class En extends Be{constructor(e){super(),ze(this,e,Cn,Sn,Ue,{filteredRoster:0})}}function $t(t){let e,i,n=Object.keys(t[0]).length+"",r,u;return{c(){e=_("span"),i=z("("),r=z(n),u=z(" in cache)"),h(e,"class","github-cache-info svelte-v8kzo8")},m(o,p){re(o,e,p),a(e,i),a(e,r),a(e,u)},p(o,p){p&1&&n!==(n=Object.keys(o[0]).length+"")&&se(r,n)},d(o){o&&ee(e)}}}function Ln(t){let e,i=Math.min(et,t[4]-t[3])+"",n,r;return{c(){e=z("Load More GitHub ("),n=z(i),r=z(")")},m(u,o){re(u,e,o),re(u,n,o),re(u,r,o)},p(u,o){o&24&&i!==(i=Math.min(et,u[4]-u[3])+"")&&se(n,i)},d(u){u&&ee(e),u&&ee(n),u&&ee(r)}}}function Rn(t){let e;return{c(){e=z("All GitHub Profiles Loaded")},m(i,n){re(i,e,n)},p:he,d(i){i&&ee(e)}}}function On(t){let e;return{c(){e=z("No GitHub Usernames Found")},m(i,n){re(i,e,n)},p:he,d(i){i&&ee(e)}}}function Pn(t){let e;return{c(){e=z("Loading...")},m(i,n){re(i,e,n)},p:he,d(i){i&&ee(e)}}}function $n(t){let e,i;return e=new En({props:{filteredRoster:t[1]}}),{c(){Ve(e.$$.fragment)},m(n,r){Ne(e,n,r),i=!0},p(n,r){const u={};r&2&&(u.filteredRoster=n[1]),e.$set(u)},i(n){i||(Oe(e.$$.fragment,n),i=!0)},o(n){je(e.$$.fragment,n),i=!1},d(n){He(e,n)}}}function In(t){let e,i;return e=new bn({props:{filteredRoster:t[1]}}),{c(){Ve(e.$$.fragment)},m(n,r){Ne(e,n,r),i=!0},p(n,r){const u={};r&2&&(u.filteredRoster=n[1]),e.$set(u)},i(n){i||(Oe(e.$$.fragment,n),i=!0)},o(n){je(e.$$.fragment,n),i=!1},d(n){He(e,n)}}}function An(t){let e;return{c(){e=_("p"),e.textContent="No students found. Upload data or adjust filters.",ot(e,"text-align","center"),ot(e,"color","#666")},m(i,n){re(i,e,n)},p:he,i:he,o:he,d(i){i&&ee(e)}}}function jn(t){let e,i,n,r=t[1].length+"",u,o,p=t[1].length===1?"":"s",L,f,S,I,Y,E,M,v,j,b=Object.keys(t[0]).length>0,A,O,T,w,F,R,l,s,c,d,g,y,$,W,J,k,G,U,B,m,C,N,te,Z,le,ae,P,Q,D,K,ue,ge,ce,x,V,oe,ne,fe,ie=b&&$t(t);function Ce(q,de){return q[5]?Pn:q[4]===0?On:q[3]===q[4]?Rn:Ln}let ke=Ce(t),ve=ke(t);le=new on({}),P=new fn({});const me=[An,In,$n],be=[];function _e(q,de){return q[1].length===0?0:q[2]==="grid"?1:2}return x=_e(t),V=be[x]=me[x](t),{c(){e=_("div"),i=_("div"),n=_("div"),u=z(r),o=z(" record"),L=z(p),f=z(` displayed
      `),S=_("div"),I=_("span"),Y=z("GitHub: "),E=z(t[3]),M=z("/"),v=z(t[4]),j=z(` profiles loaded
          `),ie&&ie.c(),A=H(),O=_("div"),T=_("button"),T.textContent="Copy Emails",w=H(),F=_("div"),R=_("button"),ve.c(),s=H(),c=_("button"),d=z("Clear GitHub Profiles"),y=H(),$=_("div"),W=_("button"),W.textContent="Export Data",J=H(),k=_("div"),G=_("button"),G.textContent="JSON (All Data)",U=H(),B=_("button"),B.textContent="CSV (All Data)",m=H(),C=_("button"),C.textContent="Messages Only",N=H(),te=_("button"),te.textContent="Clear All Records",Z=H(),Ve(le.$$.fragment),ae=H(),Ve(P.$$.fragment),Q=H(),D=_("div"),K=_("button"),K.textContent="Grid View",ue=H(),ge=_("button"),ge.textContent="List View",ce=H(),V.c(),h(I,"class","github-status svelte-v8kzo8"),h(S,"class","github-status svelte-v8kzo8"),h(T,"class","svelte-v8kzo8"),R.disabled=l=t[5]||t[3]===t[4]&&t[4]>0,h(R,"class","svelte-v8kzo8"),c.disabled=g=t[3]===0,h(c,"class","svelte-v8kzo8"),h(F,"class","github-controls svelte-v8kzo8"),h(W,"class","export-btn svelte-v8kzo8"),h(G,"class","svelte-v8kzo8"),h(B,"class","svelte-v8kzo8"),h(C,"class","svelte-v8kzo8"),h(k,"class","export-content svelte-v8kzo8"),h($,"class","export-dropdown svelte-v8kzo8"),h(te,"class","svelte-v8kzo8"),h(i,"class","top-bar svelte-v8kzo8"),h(K,"class","svelte-v8kzo8"),ye(K,"active",t[2]==="grid"),h(ge,"class","svelte-v8kzo8"),ye(ge,"active",t[2]==="list"),h(D,"class","view-switcher svelte-v8kzo8")},m(q,de){re(q,e,de),a(e,i),a(i,n),a(n,u),a(n,o),a(n,L),a(n,f),a(n,S),a(S,I),a(I,Y),a(I,E),a(I,M),a(I,v),a(I,j),ie&&ie.m(I,null),a(i,A),a(i,O),a(O,T),a(O,w),a(O,F),a(F,R),ve.m(R,null),a(F,s),a(F,c),a(c,d),a(O,y),a(O,$),a($,W),a($,J),a($,k),a(k,G),a(k,U),a(k,B),a(k,m),a(k,C),a(O,N),a(O,te),a(e,Z),Ne(le,e,null),a(e,ae),Ne(P,e,null),a(e,Q),a(e,D),a(D,K),a(D,ue),a(D,ge),a(e,ce),be[x].m(e,null),oe=!0,ne||(fe=[pe(T,"click",t[9]),pe(R,"click",t[10]),pe(c,"click",t[6]),pe(G,"click",t[14]),pe(B,"click",t[15]),pe(C,"click",t[16]),pe(te,"click",t[8]),pe(K,"click",t[17]),pe(ge,"click",t[18])],ne=!0)},p(q,[de]){(!oe||de&2)&&r!==(r=q[1].length+"")&&se(u,r),(!oe||de&2)&&p!==(p=q[1].length===1?"":"s")&&se(L,p),(!oe||de&8)&&se(E,q[3]),(!oe||de&16)&&se(v,q[4]),de&1&&(b=Object.keys(q[0]).length>0),b?ie?ie.p(q,de):(ie=$t(q),ie.c(),ie.m(I,null)):ie&&(ie.d(1),ie=null),ke===(ke=Ce(q))&&ve?ve.p(q,de):(ve.d(1),ve=ke(q),ve&&(ve.c(),ve.m(R,null))),(!oe||de&56&&l!==(l=q[5]||q[3]===q[4]&&q[4]>0))&&(R.disabled=l),(!oe||de&8&&g!==(g=q[3]===0))&&(c.disabled=g),(!oe||de&4)&&ye(K,"active",q[2]==="grid"),(!oe||de&4)&&ye(ge,"active",q[2]==="list");let Le=x;x=_e(q),x===Le?be[x].p(q,de):(Vt(),je(be[Le],1,1,()=>{be[Le]=null}),Yt(),V=be[x],V?V.p(q,de):(V=be[x]=me[x](q),V.c()),Oe(V,1),V.m(e,null))},i(q){oe||(Oe(le.$$.fragment,q),Oe(P.$$.fragment,q),Oe(V),oe=!0)},o(q){je(le.$$.fragment,q),je(P.$$.fragment,q),je(V),oe=!1},d(q){q&&ee(e),ie&&ie.d(),ve.d(),He(le),He(P),be[x].d(),ne=!1,Ee(fe)}}}let et=20;function Fn(t,e,i){let n,r,u;Te(t,we,s=>i(12,r=s)),Te(t,xe,s=>i(13,u=s)),X.setLevel("debug");let o="grid",p={},L=0,f=0,S=!1;Bt(()=>{try{const s=localStorage.getItem("githubProfiles");s&&(i(0,p=JSON.parse(s)),X.debug(`Loaded ${Object.keys(p).length} cached GitHub profiles`))}catch(s){X.error("Error loading cached GitHub profiles:",s)}E()});function I(){try{const s=JSON.stringify(p);localStorage.setItem("githubProfiles",s);const c=Object.keys(p).length,d=(s.length/1024).toFixed(1);X.debug(`Saved ${c} GitHub profiles (${d} KB) to localStorage`)}catch(s){X.error("Error saving GitHub profiles to localStorage:",s),s.name==="QuotaExceededError"&&alert("Warning: Unable to save all GitHub profiles to localStorage. The cache is full.")}}function Y(){if(Object.keys(p).length===0)return;const s=[...r];let c=0;s.forEach((d,g)=>{d.githubUsername&&p[d.githubUsername]&&(s[g].githubProfile=p[d.githubUsername],c++)}),c>0&&(we.set(s),X.debug(`Applied ${c} cached GitHub profiles to roster`)),E()}function E(){const s=r.filter(c=>c.githubUsername);i(4,f=s.length),i(3,L=r.filter(c=>c.githubUsername&&c.githubProfile).length),X.debug(`GitHub profiles: ${L}/${f} loaded`)}function M(){if(!confirm("Are you sure you want to clear all cached GitHub profiles?"))return;const s=JSON.stringify(p).length,c=Object.keys(p).length;i(0,p={}),localStorage.removeItem("githubProfiles");const d=[...r];d.forEach((g,y)=>{g.githubProfile&&delete d[y].githubProfile}),we.set(d),E(),alert(`Cleared ${c} GitHub profiles (${(s/1024).toFixed(1)} KB) from localStorage.`)}function v(s){i(2,o=s)}function j(){confirm("Are you sure you want to clear all records?")&&we.set([])}async function b(){const s=n.map(c=>c.EmailAddress).filter(c=>c&&c.trim()!=="");try{await navigator.clipboard.writeText(s.join(", ")),alert(`Copied ${s.length} emails to clipboard.`)}catch(c){alert("Failed to copy emails: "+c)}}async function A(){var s;if(!S){i(5,S=!0),E();try{const d=r.filter(W=>W.githubUsername&&!W.githubProfile).slice(0,et);if(d.length===0){alert("No more GitHub profiles to load."),i(5,S=!1);return}X.debug(`Loading batch of ${d.length} GitHub profiles`);let g=0,y=0;const $=[...r];for(const W of d)try{const J=W.githubUsername;if(!J)continue;if(p[J]){X.debug(`Using cached profile for ${J}`);const m=$.findIndex(C=>C.studentId===W.studentId);m!==-1&&($[m].githubProfile=p[J],g++);continue}const k=await fetch(`https://api.github.com/users/${J}`);if(!k.ok)if(k.status===403){const m=k.headers.get("X-RateLimit-Remaining"),C=k.headers.get("X-RateLimit-Reset");let N="GitHub API rate limit exceeded.";if(C){const te=new Date(C*1e3),Z=Math.ceil((te-new Date)/(1e3*60));N+=` Rate limit will reset in approximately ${Z} minute(s).`}throw N+=" Try again later or use a GitHub access token.",new Error(N)}else throw new Error(`GitHub API returned ${k.status}: ${k.statusText}`);const G=await k.json(),U={login:G.login,id:G.id,avatar_url:G.avatar_url,gravatar_id:G.gravatar_id||"",url:G.url,html_url:G.html_url,name:G.name,company:G.company,blog:G.blog,location:G.location,bio:G.bio,twitter_username:G.twitter_username,public_repos:G.public_repos,public_gists:G.public_gists,followers:G.followers,following:G.following,created_at:G.created_at,updated_at:G.updated_at};i(0,p[J]=U,p),I();const B=$.findIndex(m=>m.studentId===W.studentId);B!==-1&&($[B].githubProfile=U),g++,await new Promise(m=>setTimeout(m,300))}catch(J){if(X.error(`Error fetching GitHub profile for ${W.githubUsername}:`,J),y++,(s=J.message)!=null&&s.includes("rate limit")){alert(J.message);break}}we.set($),E(),(g>0||y>0)&&X.debug(`GitHub batch fetch: ${g} successful, ${y} failed`)}catch(c){X.error("Error in loadMoreGithubProfiles:",c),alert(`Error loading GitHub profiles: ${c.message}`)}finally{i(5,S=!1)}}}function O(s){if(n.length===0){alert("No data to export.");return}let c,d,g;if(s==="json"){const J=JSON.parse(JSON.stringify(n));J.forEach(k=>{k.messages||(k.messages=[])}),c=JSON.stringify(J,null,2),d="student-data.json",g="application/json"}else if(s==="csv"){const J=new Set;n.forEach(U=>{Object.keys(U).forEach(B=>{B!=="messages"&&J.add(B)})}),J.add("hasMessages");const k=Array.from(J),G=[k.join(",")];n.forEach(U=>{const B=k.map(m=>{if(m==="hasMessages")return U.messages&&U.messages.length>0?"true":"false";const C=U[m]||"";return typeof C=="object"&&C!==null&&!Array.isArray(C)?`"${JSON.stringify(C).replace(/"/g,'""')}"`:Array.isArray(C)?C.length:typeof C=="string"?`"${C.replace(/"/g,'""')}"`:C});G.push(B.join(","))}),c=G.join(`
`),d="student-data.csv",g="text/csv"}else if(s==="messages-only"){const J={};n.forEach(k=>{if(k.messages&&k.messages.length>0){const G=`${k.First||""} ${k.Last||""} (${k.studentId})`;J[G]=k.messages}}),c=JSON.stringify(J,null,2),d="student-messages.json",g="application/json"}else{alert("Unsupported export format");return}const y=new Blob([c],{type:g}),$=URL.createObjectURL(y),W=document.createElement("a");W.href=$,W.download=d,document.body.appendChild(W),W.click(),setTimeout(()=>{document.body.removeChild(W),URL.revokeObjectURL($)},100)}const T=()=>O("json"),w=()=>O("csv"),F=()=>O("messages-only"),R=()=>v("grid"),l=()=>v("list");return t.$$.update=()=>{t.$$.dirty&12288&&i(1,n=r.filter(s=>{let c=!0;if(u.search&&u.search.trim()!==""){const d=u.search.toLowerCase(),g=((s.First||"")+" "+(s.Last||"")).toLowerCase(),y=(s.EmailAddress||"").toLowerCase();!g.includes(d)&&!y.includes(d)&&(c=!1)}if(u.hasGitHub==="yes"&&!s.githubUsername&&(c=!1),u.hasGitHub==="no"&&s.githubUsername&&(c=!1),u.hasSlack==="yes"&&!s.slackUserId&&(c=!1),u.hasSlack==="no"&&s.slackUserId&&(c=!1),u.major&&u.major!=="all"){const d=u.major.toLowerCase();(s["Primary Major Title"]||s["Primary Major"]||"").toLowerCase().includes(d)||(c=!1)}return u.classification&&u.classification!=="all"&&(s.Classification||"").toLowerCase()!==u.classification.toLowerCase()&&(c=!1),c})),t.$$.dirty&2&&X.debug("Filtered roster count:",n.length),t.$$.dirty&4097&&r&&(E(),Object.keys(p).length>0&&Y())},[p,n,o,L,f,S,M,v,j,b,A,O,r,u,T,w,F,R,l]}class Un extends Be{constructor(e){super(),ze(this,e,Fn,jn,Ue,{})}}async function Mn(){await sn(),new Un({target:document.getElementById("app")})}Mn();app;
